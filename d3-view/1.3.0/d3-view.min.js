!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-let"),require("d3-timer"),require("d3-selection"),require("d3-dispatch")):"function"==typeof define&&define.amd?define(["exports","d3-let","d3-timer","d3-selection","d3-dispatch"],e):e(t.d3=t.d3||{},t.d3,t.d3,t.d3,t.d3)}(this,function(t,e,r,n,i){"use strict";var o={isolated:{props:{tag:"div"},render(t,e,r){return this.createElement(t.tag).attr("id",e.id).attr("class",e.class).html(r.innerHTML)},createModel(t){var e=this.parent.model.$new(t);return e.$$view=this,e.$$name=this.name,e}}},s=new Map([["disabled","disabled"],["readonly","readOnly"],["required","required"]]),a={create(t){return this.arg?t:this.logWarn("Cannot bind to empty attribute. Specify :<attr-name>")},refresh(t,r){if("class"===this.arg)return this.refreshClass(r);if(e.isArray(r))return this.logWarn(`Cannot apply array to attribute ${this.arg}`);var n=s.get(this.arg);n?this.sel.property(n,r||!1):this.sel.attr(this.arg,r||null)},refreshClass(t){var r=this.sel;e.isArray(t)||(t=[t]),this.oldValue&&this.oldValue.forEach(t=>{t&&r.classed(t,!1)}),this.oldValue=t.map(t=>{var n=!0;return e.isArray(t)&&(n=t[1],t=t[0]),t&&r.classed(t,n),t})}},l={refresh(t,r){if(e.isNumber(r)&&(r=""+r),e.isString(r)){var n=this,i=this.sel,o=this.passes?this.transition(i):null;o?o.style("opacity",0).on("end",()=>{i.html(r),n.selectChildren().mount(),n.transition(i).style("opacity",1)}):(i.html(r),this.selectChildren().mount())}}};function u(t,e){let n,i,o=null;function s(){return n=this,i=arguments,null!==o?o:o=new Promise((s,a)=>{r.timeout(()=>{o=null;try{s(t?t.apply(n,i):void 0)}catch(t){a(t)}},e)})}return s.promise=function(){return o},s}function c(t){return Object.defineProperty(t,"sel",{get(){return n.select(this.el)}}),t}const d={on(t,e){var r=function(t,e,r){return u(()=>{e.$set(r,t.value())})}(this,t,e),n=t.uid;this.sel.on(`input.${n}`,r).on(`change.${n}`,r)},off(t){var e=t.uid;this.sel.on(`input.${e}`,null).on(`change.${e}`,null)},value(t){if(!arguments.length)return this.sel.property("value");this.sel.property("value",t)}};function h(t){function r(t){c(this).el=t}return r.prototype=e.assign({},d,t),r}var p=h(),f=h({value(t){if(!arguments.length)return this.sel.property("checked");this.sel.property("checked",t)}}),v={input:p,textarea:p,select:h({value(t){var r,i=this.sel,o=i.selectAll("option"),s=t;if(!arguments.length)return s=[],o.each(function(){(r=n.select(this)).property("selected")&&s.push(r.attr("value")||"")}),i.property("multiple")?s:s[0]||"";e.isArray(s)||(s=[t||""]),o.each(function(){r=n.select(this),t=r.attr("value")||"",r.property("selected",s.indexOf(t)>-1)})}}),checkbox:f},m={create(t){var e=this.sel.attr("type"),r=this.el.tagName.toLowerCase(),n=v[e]||v[r];if(n)return this.tag=new n(this.el),t;this.logWarn(`Cannot apply d3-value directive to ${r}`)},mount(t){var e=this.expression;if(e.parsed.type===e.codes.IDENTIFIER){var r=this.expression.expr;return t.$set(r,this.tag.value()),this.tag.on(t,r),t}this.logWarn(`support identifiers only, got "${e.parsed.type}": ${this.expression}`)},refresh(t,e){this.tag.value(e)},destroy(t){this.tag.off(t)}},g={mount(t){var e=this.arg||"click",r=this.expression;this.on(this.sel,`${e}.${this.uid}`,e=>{var n=t.$child();n.$event=e,r.eval(n)}),this.bindDestroy(t)},destroy(){var t=this.arg||"click";this.on(this.sel,`${t}.${this.uid}`,null)}},y=new Map,$=[],b=$.map,w=$.some,E=$.hasOwnProperty;function x(t){for(var e,r,n={},i=-1,o=t.length;++i<o;)for(r in e=t[i])E.call(e,r)&&(null==e[r]?Object.defineProperty(n,r,{get:_(e,r)}):n[r]=e[r]);return n}function _(t,e){return function(){return t[e]}}function O(t){return t+""=="exports"}function P(t,e,r){arguments.length<3&&(r=e,e=t),arguments.length<2&&(r=e,e=[]),$.push(w.call(e,O)?function(t){var n={};return Promise.all(b.call(e,function(e){return O(e+="")?n:t(e)})).then(function(t){return r.apply(null,t),n})}:function(t){return Promise.all(b.call(e,t)).then(function(t){return"function"==typeof r?r.apply(null,t):r})})}P.amd={};var A=new RegExp("^([a-z]+://|//)"),C=new RegExp("^[.]{0,2}/"),D=new Map,M=new Map,L="undefined"!=typeof window&&window.document;const j=function(){let t;L?(e=R,r=function t(r){return function(n){var i=e(n+"",r),o=y.get(i);return o||y.set(i,o=new Promise(function(e,r){var n=document.createElement("script");n.onload=function(){try{e($.pop()(t(i)))}catch(t){r(new Error("invalid module"))}n.remove()},n.onerror=function(){r(new Error("unable to load module")),n.remove()},n.async=!0,n.src=i,window.define=P,document.head.appendChild(n)})),o}}(null),t=function(t){return arguments.length>1?Promise.all(b.call(arguments,r)).then(x):r(t)}):t=I;var e,r;return t.libs=D,t}();function R(t,e){var r=D.get(t),n=t,i=null,o=location;if(e&&("string"==typeof e.base&&(o=e.base),i=function(t){"string"==typeof t&&"/"===t.substring(0,1)&&(t=t.substring(1));return t}(e.path)),r?(i=i||r.main,n=function(t){"string"==typeof t&&"/"===t.substring(t.length-1)&&(t=t.substring(0,t.substring));return t}(r.origin||n),r.version&&(n=`${t}@${r.version}`),i&&(n=`${n}/${i}`)):i&&(A.test(n)?n=new URL(n,o).origin:C.test(n)&&(n=""),n=`${n}/${i}`),A.test(n))return n;if(C.test(n))return new URL(n,o).href;if(!n.length||/^[\s._]/.test(n)||/\s$/.test(n))throw new Error("illegal name");return"https://unpkg.com/"+n}function I(){let t;var e=[];for(let r=0;r<arguments.length;++r)(t=M.get[arguments[r]])||(t=require(arguments[r]),M.set(arguments[r],t)),e.push(t);return Promise.resolve(e.length>1?function(t){var e,r,n={},i=-1,o=t.length;for(;++i<o;)for(r in e=t[i])hasOwnProperty.call(e,r)&&(null==e[r]?Object.defineProperty(n,r,{get:N(e,r)}):n[r]=e[r]);return n}(e):e[0])}function N(t,e){return()=>t[e]}e.logger.debug=null;var k=e.assign({require:j,resolve:R,logger:e.logger,readyCallbacks:[],setDebug(t){!arguments.length||t?this.logger.debug=e.isFunction(t)?t:T:this.logger.debug=null}},function(){if(e.inBrowser)return e.assign({fetch:window.fetch,location:window.location},window.d3)}());function T(t){this.info(t)}const S="[d3-view]";function X(t){k.logger.warn(`${S} ${t}`)}function F(t,r){if(e.isString(t)){if(!r)return t;var n=function(t){var e=k.compileTemplate;if(e)return e(t);X("No compileTemplate function available in viewProviders, cannot render template")}(t);if(!n)return t;t=n}return t(r)}function q(t,e,r){r=r||document;var i=n.select(r.createElement("div"));i.html(F(t,e));var o=i.node().children;return 1!==o.length&&X(`viewElement function should return one root element only, got ${o.length}`),o[0]}function U(t,e){this.response=t,this.data=e,this.status=t.status,this.headers=t.headers,this.description=t.statusText}function B(t,e,r){this.response=t,this.data=e,this.status=t.status,this.headers=t.headers,this.description=r||t.statusText}function W(t){var e=(t.headers.get("content-type")||"").split(";")[0];if("application/json"===e)return t.json().then(e=>new U(t,e));var r=t.status<300?`Expected "application/json" content type, got "${e}"`:null;throw new B(t,null,r)}function z(t){if(t.status<300)return t.text().then(e=>new U(t,e));throw new B(t)}function Y(t){return t&&!e.isFunction(t.size)?n.select(t):t}B.prototype=Error.prototype;var H={ownerDocument:null,isd3:!0,providers:k,viewElement(t,e,r){return q(t,e,r||this.ownerDocument)},select:t=>n.select(t),selectAll:t=>n.selectAll(t),createElement(t){const e=this.ownerDocument||document;return n.select(e.createElement(t))},fetch(t,e){var r=k.fetch;return 1==arguments.length?r(t):r(t,e)},fetchText(t,...e){return this.fetch(t,...e).then(z)},json(t,...e){return this.fetch(t,...e).then(W)},renderFromUrl(t,e,r=!0){var n=this.cache;return n.has(t)?Promise.resolve(G(n.get(t),e,r)):this.fetchText(t).then(i=>(n.set(t,i.data),G(i.data,e,r)))},renderFromDist(t,e,r,n=!0){var i=k.resolve;return this.renderFromUrl(i(t,{path:e}),r,n)},on(t,e,r){if(t=Y(t),null===r)return t.on(e,null);t.on(e,()=>r(n.event))},selectChildren(t){return arguments.length||(t=this.el),this.selectAll(Array.prototype.slice.call(t.children))},domEvent:()=>n.event,logError(t){return t.stack?k.logger.error(t):k.logger.error(`[${this.name}] ${t}`),this},logWarn(t){return k.logger.warn(`[${this.name}] ${t}`),this},logInfo(t){return k.logger.info(`[${this.name}] ${t}`),this},logDebug(t){return k.logger.debug&&k.logger.debug(`[${this.name}] ${t}`),this}};function G(t,e,r){return r?q(t,e):F(t,e)}k.transition={duration:0};var V=e.assign(H,{transition(t){arguments.length||(t=this.sel);var e=this.transitionDuration(t);if(e>0)return t.transition(this.uid).duration(e)},transitionDuration(t){if(arguments.length||(t=this.sel),t&&e.isFunction(t.transition)&&t.size()){var r=t.attr("data-transition-duration");return+(null===r?k.transition.duration:r)}return 0}});const J={COMPOUND:"Compound",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",LOGICAL_EXP:"LogicalExpression",CONDITIONAL_EXP:"ConditionalExpression",ARRAY_EXP:"ArrayExpression"};var K=function(t,e){var r=new Error(t+" at character "+e);throw r.index=e,r.description=t,r},Q={"-":!0,"!":!0,"~":!0,"+":!0},Z={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},tt=function(t){var e,r=0;for(var n in t)(e=n.length)>r&&t.hasOwnProperty(n)&&(r=e);return r},et=tt(Q),rt=tt(Z),nt={true:!0,false:!1,null:null},it=function(t){return Z[t]||0},ot=function(t,e,r){return{type:"||"===t||"&&"===t?J.LOGICAL_EXP:J.BINARY_EXP,operator:t,left:e,right:r}},st=function(t){return t>=48&&t<=57},at=function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=128&&!Z[String.fromCharCode(t)]},lt=function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||t>=128&&!Z[String.fromCharCode(t)]},ut=function(t){for(var e,r,n=0,i=t.charAt,o=t.charCodeAt,s=function(e){return i.call(t,e)},a=function(e){return o.call(t,e)},l=t.length,u=function(){for(var t=a(n);32===t||9===t;)t=a(++n)},c=function(){var t,e,r=h();return u(),63!==a(n)?r:(n++,(t=c())||K("Expected expression",n),u(),58===a(n)?(n++,(e=c())||K("Expected expression",n),{type:J.CONDITIONAL_EXP,test:r,consequent:t,alternate:e}):void K("Expected :",n))},d=function(){u();for(var e=t.substr(n,rt),r=e.length;r>0;){if(Z.hasOwnProperty(e))return n+=r,e;e=e.substr(0,--r)}return!1},h=function(){var t,e,r,i,o,s,a,l;if(s=p(),!(e=d()))return s;for(o={value:e,prec:it(e)},(a=p())||K("Expected expression after "+e,n),i=[s,o,a];(e=d())&&0!==(r=it(e));){for(o={value:e,prec:r};i.length>2&&r<=i[i.length-2].prec;)a=i.pop(),e=i.pop().value,s=i.pop(),t=ot(e,s,a),i.push(t);(t=p())||K("Expected expression after "+e,n),i.push(o,t)}for(t=i[l=i.length-1];l>1;)t=ot(i[l-1].value,i[l-2],t),l-=2;return t},p=function(){var e,r,i;if(u(),e=a(n),st(e)||46===e)return f();if(39===e||34===e)return v();if(at(e)||40===e)return y();if(91===e)return b();for(i=(r=t.substr(n,et)).length;i>0;){if(Q.hasOwnProperty(r))return n+=i,{type:J.UNARY_EXP,operator:r,argument:p(),prefix:!0};r=r.substr(0,--i)}return!1},f=function(){for(var t,e,r="";st(a(n));)r+=s(n++);if(46===a(n))for(r+=s(n++);st(a(n));)r+=s(n++);if("e"===(t=s(n))||"E"===t){for(r+=s(n++),"+"!==(t=s(n))&&"-"!==t||(r+=s(n++));st(a(n));)r+=s(n++);st(a(n-1))||K("Expected exponent ("+r+s(n)+")",n)}return e=a(n),at(e)?K("Variable names cannot start with a number ("+r+s(n)+")",n):46===e&&K("Unexpected period",n),{type:J.LITERAL,value:parseFloat(r),raw:r}},v=function(){for(var t,e="",r=s(n++),i=!1;n<l;){if((t=s(n++))===r){i=!0;break}if("\\"===t)switch(t=s(n++)){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+="\\"+t}else e+=t}return i||K('Unclosed quote after "'+e+'"',n),{type:J.LITERAL,value:e,raw:r+e+r}},m=function(){var e,r=a(n),i=n;for(at(r)?n++:K("Unexpected "+s(n),n);n<l&&(r=a(n),lt(r));)n++;return e=t.slice(i,n),nt.hasOwnProperty(e)?{type:J.LITERAL,value:nt[e],raw:e}:"this"===e?{type:J.THIS_EXP}:{type:J.IDENTIFIER,name:e}},g=function(t){for(var e,r,i=[],o=!1;n<l;){if(u(),(e=a(n))===t){o=!0,n++;break}44===e?n++:((r=c())&&r.type!==J.COMPOUND||K("Expected comma",n),i.push(r))}return o||K("Expected "+String.fromCharCode(t),n),i},y=function(){var t,e;for(e=40===(t=a(n))?$():m(),u(),t=a(n);46===t||91===t||40===t;)n++,46===t?(u(),e={type:J.MEMBER_EXP,computed:!1,object:e,property:m()}):91===t?(e={type:J.MEMBER_EXP,computed:!0,object:e,property:c()},u(),93!==(t=a(n))&&K("Unclosed [",n),n++):40===t&&(e={type:J.CALL_EXP,arguments:g(41),callee:e}),u(),t=a(n);return e},$=function(){n++;var t=c();if(u(),41===a(n))return n++,t;K("Unclosed (",n)},b=function(){return n++,{type:J.ARRAY_EXP,elements:g(93)}},w=[];n<l;)59===(e=a(n))||44===e?n++:(r=c())?w.push(r):n<l&&K('Unexpected "'+s(n)+'"',n);return 1===w.length?w[0]:{type:J.COMPOUND,body:w}};function ct(t,e,r){switch(e.type){case J.IDENTIFIER:return t[e.name];case J.LITERAL:return r?t[e.value]:e.value;case J.ARRAY_EXP:return e.elements.map(e=>ct(t,e));case J.LOGICAL_EXP:case J.BINARY_EXP:return function(t,e,r){pt[t]||(pt[t]=new Function("a","b",`return a ${t} b`));return pt[t](e,r)}(e.operator,ct(t,e.left),ct(t,e.right));case J.CALL_EXP:return function(t,e,r){var n;r=r.map(e=>ct(t,e)),e.type!==J.IDENTIFIER&&(t=ct(t,e.object),e=e.property);if(!(n=t[e.name]))throw new EvalError(`callable "${e.name}" not found in context`);return n.apply(t,r)}(t,e.callee,e.arguments);case J.MEMBER_EXP:return ct(ct(t,e.object),e.property,!0);case J.CONDITIONAL_EXP:return ct(t,e.test)?ct(t,e.consequent):ct(t,e.alternate);case J.UNARY_EXP:return function(t,e){ht[t]||(ht[t]=new Function("arg",`return ${t} arg`));return ht[t](e)}(e.operator,ct(t,e.argument))}}function dt(t,e){switch(1===arguments.length&&(e=new Set),t.type){case J.IDENTIFIER:e.add(t.name);break;case J.ARRAY_EXP:t.elements.forEach(t=>dt(t,e));break;case J.LOGICAL_EXP:case J.BINARY_EXP:dt(t.left,e),dt(t.right,e);break;case J.CALL_EXP:dt(t.callee,e),t.arguments.forEach(t=>dt(t,e));break;case J.MEMBER_EXP:e.add(function t(e){return e.type===J.IDENTIFIER?e.name:`${t(e.object)}.${e.property.name}`}(t));break;case J.CONDITIONAL_EXP:dt(t.test,e),dt(t.consequent,e),ct(t.alternate,e);break;case J.UNARY_EXP:dt(t.argument,e)}return e}ut.addUnaryOp=function(t){return et=Math.max(t.length,et),Q[t]=!0,this},ut.addBinaryOp=function(t,e){return rt=Math.max(t.length,rt),Z[t]=e,this},ut.addLiteral=function(t,e){return nt[t]=e,this},ut.removeUnaryOp=function(t){return delete Q[t],t.length===et&&(et=tt(Q)),this},ut.removeBinaryOp=function(t){return delete Z[t],t.length===rt&&(rt=tt(Z)),this},ut.removeLiteral=function(t){return delete nt[t],this};const ht={},pt={},ft={eval(t){return ct(t,this.parsed)},safeEval(t){try{return ct(t,this.parsed)}catch(t){X(`Could not evaluate <<${this.expr}>> expression: ${t}`)}},identifiers(){return dt(this.parsed)}};function vt(t){this.codes=J,this.expr=t,this.parsed=ut(t)}function mt(t){return new vt(t)}vt.prototype=ft;let gt=0;const yt="d3v";function $t(t){var e=yt+ ++gt;return arguments.length?(Object.defineProperty(t,"uid",{get:function(){return e}}),t):e}function bt(){var t=i.dispatch("change"),e=0;return{on(e,r){return arguments.length<2?t.on(e):(t.on(e,r),this)},trigger:u(function(){t.apply("change",this,arguments),e+=1}),triggered:()=>e}}function wt(t,e,r,n){var i=new Map,o=null;i.set("",bt()),Object.defineProperties($t(t),{$events:{get:()=>i},parent:{get:()=>r},isolated:{get:()=>n}}),t.$child=function(e){null===o&&(o=function(t){function e(e){wt(this,e,t,!1)}return e.prototype=t,e}(t));return new o(e)},t.$update(e)}const Et="[object d3Model]";function xt(t){return t&&t.constructor===Object}function _t(t){return e.isObject(t)&&"[object d3Model]"===t.toString()}function Ot(t,e){e?t.on(`change.${e}`,null):t.on("change",null)}function Pt(t,e=0){return Array.prototype.slice.call(t,e)}function At(t,e){wt(this,t,e,!0)}function Ct(t){return new At(t)}Ct.prototype=At.prototype={constructor:At,toString:function(){return Et},$on:function(t,r){1===arguments.length&&e.isFunction(t)&&(r=t,t="");var n=t.split("."),i=n[0],o=function t(e,r){var n=e.$events.get(r);return!n&&e.parent?t(e.parent,r):n}(this,i);return o?(this.$events.get(i)||n.push(this.uid),n[0]="change",o.on(n.join("."),r)):X(`Cannot bind to "${i}" - no such reactive property`)},$change:function(t){var e=arguments.length?t:"",r=this.$events.get(e),n=Pt(arguments,1);return r?r.trigger.apply(this,n):this.isolated?X(`attribute '${e}' is not a reactive property this model`):this.parent.$change(e),this},$emit:function(t,r){return function t(r,n,i,o){r&&(r.hasOwnProperty(n)&&e.isFunction(r[n])&&!1===r[n](i,o)||t(r.parent,n,i,o))}(this,"$"+t,r,this),this},$update:function(t,e){if(t)for(var r in e=2!==arguments.length||e,t)(e||void 0===this[r])&&("$"===r.substring(0,1)?this.constructor.prototype[r]?X(`Cannot set attribute method ${r}, it is protected`):this[r]=t[r]:this.$set(r,t[r]));return this},$set:function(t,r){this.$events.get(t)?this[t]=r:function(t,r,n){var i,o;function s(e){if(i&&(e=i.get.call(t)),e!==n){if(k.logger.debug){var o=t.$$name||"model";k.logger.debug(`[d3-model] updating ${o}.${r}`)}t.$change(r,n).$change(),n=a(e,n)}}function a(r,n){return r===n?n:e.isArray(r)?function(t,r){_t(r)&&r.$off(),e.isArray(r)||(r=[]);for(let e=0;e<t.length;++e)t[e]=a(t[e],r[e]);return t}(r,n):_t(n)?function(t,e){return xt(t)?(e.$update(t),e):(e.$off(),a(t))}(r,n):xt(r)?t.$new(r):r}t.$events.set(r,bt()),Object.defineProperty(t,r,(o={get:function(){return n}},e.isFunction(n)&&(n={get:n}),xt(n)&&e.isFunction(n.get)?(n=(i=n).get.call(t),i.reactOn?i.reactOn.forEach(e=>{t.$on(`${e}.${r}`,s)}):X(`reactive lazy property ${r} does not specify 'reactOn' list or properties`),e.isFunction(i.set)&&(o.set=i.set)):o.set=s,o)),n=a(n),t.$change(r)}(this,t,r)},$new:function(t){return new At(t,this)},$off:function(t){if(void 0===t)this.$events.forEach(t=>Ot(t));else{var e=t.split("."),r=e.splice(0,1)[0],n=this.$events.get(r);n&&Ot(n,e.join("."))}},$isReactive:function(t){return!!this.$events.has(t)||!(!this.parent||this.isolated)&&this.parent.$isReactive(t)},$owner:function(t){if(!this.$events.has(t)){if(!this.parent||this.isolated)return;return this.parent.$owner(t)}return this},$data:function(){var t,e=this,r={};return Array.from(this.$events.keys()).concat(Object.keys(this)).forEach(n=>{n&&void 0!==(t=function(t){if("function"!=typeof t)return t&&"function"==typeof t.$data?t.$data():t}(e[n]))&&(r[n]=t)}),r},$push:function(t,e){var r=this[t].slice();return r.push(e),this[t]=r,this},$splice:function(t,e,r){var n=this[t].slice();return 2==arguments.length?n.splice(e):3==arguments.length&&n.splice(e,r),this[t]=n,this}},Object.defineProperties(At.prototype,{root:{get(){return this.parent?this.parent.root:this}},isolatedRoot:{get(){return!this.isolated&&this.parent?this.parent.isolatedRoot:this}}});var Dt=i.dispatch("message","component-created","component-mount","component-mounted","directive-refresh");const Mt={create:t=>t,preMount(){},mount:t=>t,refresh(){},destroy(){},removeAttribute(){this.el.removeAttribute(this.name)},execute(t){this.active&&(this.removeAttribute(),this.identifiers=[],(t=this.mount(t))&&this.bindModel(t))},bindModel(t){var r=this,n=!1,i=function(){let e=r.expression?r.expression.eval(t):r.data;r.refresh(t,e),r.passes++,Dt.call("directive-refresh",void 0,r,t,e)};let o,s,a,l;if(r.cache=t.$$view.cache,r.data)r.data=t.$new(r.data),r.identifiers.push({model:r.data,attr:""});else if(this.expression){var u=new Map;this.expression.identifiers().forEach(i=>{for(o=i.split("."),s=t,a=null,l=0;l<o.length-1;++l)if(s=s[o[l]],!e.isObject(s)){a=o.slice(0,l+1).join("."),r.logError(`"${a}" is not an object, cannot bind to "${i}" identifier`),n=!0;break}null===a&&(s instanceof Ct?function t(r,n,i){var o=3===arguments.length?n[i]:void 0;e.isFunction(o)||2===arguments.length?jt(r,n).events.add(""):o instanceof Ct?(t(r,o),(n=n.$owner(i))&&jt(r,n).events.add("")):((n=n.$owner(i)||n).$isReactive(i)||n.$set(i,o),jt(r,n).events.add(i))}(u,s,o[o.length-1]):(r.logError(`${i} is not a reactive model. Cannot bind to it`),n=!0))}),u.forEach(t=>{t.events.has("")?r.identifiers.push({model:t.model,attr:""}):t.events.forEach(e=>{r.identifiers.push({model:t.model,attr:e})})})}else r.identifiers.push({model:t,attr:""});n||(this.identifiers.forEach(t=>{var e=`${t.attr}.${r.uid}`;t.model.$on(e,i)}),this.bindDestroy(t),i())},bindDestroy(t){var e=this,r=this.destroy;e.destroy=function(){e.identifiers.forEach(t=>{t.model.$off(`${t.attr}.${e.uid}`)}),e.data&&e.data.$off();try{r.call(e,t)}finally{t.$emit("destroyDirective",e)}}}};function Lt(t){function r(t,e,r){this.el=t,this.ownerDocument=t.ownerDocument,this.name=e.name,this.arg=r,this.passes=0;var n=c($t(this)).create(e.value);if(n)try{this.expression=mt(n)}catch(t){try{this.data=JSON.parse(n)}catch(e){this.logError(t)}}this.active||(this.active=Boolean(!e.value||this.expression||this.data))}function n(t,e,n){return new r(t,e,n)}return r.prototype=e.assign({},V,Mt,t),n.prototype=r.prototype,n}function jt(t,e){var r=t.get(e.uid);return r||(r={model:e,events:new Set},t.set(e.uid,r)),r}function Rt(t){if(e.isString(t))try{return JSON.parse(t)}catch(e){return t}return t}function It(t){return t&&t.constructor===Object&&(t=Object.entries(t)),new Map(t)}const Nt="data-";function kt(){this.active=!0,this.data=new Map}kt.prototype={constructor:kt,set(t,e){this.active&&this.data.set(t,e)},get(t){if(this.active)return this.data.get(t)},has(t){return!!this.active&&this.data.has(t)},clear(){return this.data.clear()},delete(t){return this.data.delete(t)}};const Tt={render(){},childrenMounted(){},mounted(){},destroy(){},mount(t,r,n){if(Ut(this))return;this.ownerDocument=t.ownerDocument,this.events.call("mount",void 0,this,t,r),this.events.on("mount",null),Dt.call("component-mount",void 0,this,t,r);var i=this.select(t),o=i.directives(),s=o?o.attrs:function(t){var e={};let r;for(let n=0;n<t.attributes.length;++n)r=t.attributes[n],e[r.name]=r.value;return e}(t),a=this.parent.model,l=i.datum();let u,c,d=this.props,h=this.model,p=e.assign(function(t){let r;return Object.keys(t).reduce((n,i)=>(i.substring(0,5)===Nt&&(n[r=i.split("-").splice(1).reduce((t,e,r)=>t+=r?e.substring(0,1).toUpperCase()+e.substring(1):e,"")]=e.pop(t,i)),n),{})}(s),l,r);for(u in r=e.assign({},l,r),h)void 0!==(c=e.pop(p,u))&&(e.isString(c)?a.$isReactive(c)?c!==u?h[u]=Bt(u,c):delete h[u]:h[u]=Rt(c):h[u]=c);this.model=h=this.createModel(h),e.isArray(d)&&(d=d.reduce((t,e)=>(t[e]=void 0,t),{})),e.isObject(d)&&Object.keys(d).forEach(t=>{void 0!==(c=Rt(void 0===p[t]?void 0===r[t]?s[t]:r[t]:p[t]))?(e.isString(c)&&h[c]&&(c=h[c]),r[t]=c):void 0!==d[t]&&(r[t]=d[t])}),this.props=r;var f=this.render(r,s,t);return f.then||(f=Promise.resolve(f)),f.then(r=>(function(t,r,n,i){if(e.isString(n)){const e=Object.keys(t.props).length?t.props:null;n=t.viewElement(n,e,r.ownerDocument)}if(!n)return t.logWarn("render function must return a single HTML node. It returned nothing!");1!==(n=Y(n)).size()&&t.logWarn("render function must return a single HTML node");return n=n.node(),r.parentNode.insertBefore(n,r),t.select(r).remove(),qt(t,n,i)})(this,t,r,n))},createModel(t){var e=this.parent?this.parent.model.$child(t):Ct(t);return e.$$view=this,e.$$name=this.name,e}};function St(t,r,n,o){e.isFunction(r)&&(r={render:r});var s=e.assign({},r),a=Xt(new Map,e.pop(s,"components")),l=Ft(new Map,e.pop(s,"directives")),u=e.pop(s,"model");function c(r){var s=e.pop(r,"parent"),c=It(s?s.components:o),d=It(s?s.directives:n),h=i.dispatch("message","mount","mounted"),p=s?null:new kt;a.forEach((t,e)=>{c.set(e,t)}),l.forEach((t,e)=>{d.set(e,t)}),Xt(c,e.pop(r,"components")),Ft(d,e.pop(r,"directives")),Object.defineProperties(this,{name:{get:()=>t},components:{get:function(){return c}},directives:{get:function(){return d}},parent:{get:function(){return s}},root:{get:function(){return s?s.root:this}},cache:{get:function(){return s?s.cache:p}},uid:{get:function(){return this.model.uid}},events:{get:function(){return h}}}),this.model=e.assign({},e.isFunction(u)?u():u,e.pop(r,"model")),Dt.call("component-created",void 0,this)}function d(t){return new c(t)}return c.prototype=e.assign({},V,Tt,s),d.prototype=c.prototype,d}function Xt(t,e){return It(e).forEach((e,r)=>{t.set(r,St(r,e,Tt))}),t}function Ft(t,e){return It(e).forEach((e,r)=>{t.set(r,Lt(e))}),t}function qt(t,e,r){return Object.defineProperty(c(t),"el",{get:function(){return e}}),t.select(e).view(t).mount(null,r).then(()=>(function(t,e){var r=t.parent;t.childrenMounted(),r&&!r.isMounted?r.events.on(`mounted.${t.uid}`,()=>{Ut(t,e)}):Ut(t,e);return t})(t,r))}function Ut(t,e){return void 0===t.isMounted?(t.isMounted=!1,!1):(t.isMounted?t.logWarn("component already mounted"):(t.isMounted=!0,t.mounted(),e&&e(t),t.events.call("mounted",void 0,t),t.events.on("mounted",null),Dt.call("component-mounted",void 0,t)),!0)}function Bt(t,e){return{reactOn:[e],get(){return this[e]},set(){this.$$view.logError(`Cannot set "${t}" value because it is owned by a parent model`)}}}const Wt=["name","class","disabled","readonly","required","href"];function zt(){this.attrs={},this.all=[]}zt.prototype={size(){return this.all.length},pop:function(t){var e=this.all.indexOf(t);return e>-1&&(t.removeAttribute(),this.all.splice(e,1)),t},add(t){this.all.push(t)},forEach(t){this.all.forEach(t)},preMount(){let t;for(let e=0;e<this.all.length;++e)if((t=this.all[e]).preMount())return this.pop(t)},execute(t){if(this.size())return Promise.all(this.all.map(e=>e.execute(t)))}},n.selection.prototype.mount=function(t,e){var r=[];return this.each(function(){var i=n.select(this).view();i?r.push(function t(e,r,i,o){if(e&&e.tagName){var s=r.components.get(e.tagName.toLowerCase()),a=function(t,e){var r=n.select(t),i=r.directives();if(i)return i;if(i=new zt,!e)return i;for(let r=0;r<t.attributes.length;++r){let n,s=t.attributes[r],a=s.name.split("-"),l="d3"===a[0]?a[1]:null;if(l){!(n=a.slice(2).join("-"))&&Wt.indexOf(l)>-1&&(n=l,l="attr");var o=e.get(l);o?i.add(o(t,s,n)):X(`${t.tagName} cannot find directive "${l}". Did you forget to register it?`)}i.attrs[s.name]=s.value}return i.size()&&r.directives(i),i}(e,r.directives),l=a.preMount();if(l)return l.execute(r.model);{let n;return n=s?[s({parent:r}).mount(e,i,o)]:Pt(e.children).map(e=>t(e,r,i,o)),Promise.all(n).then(()=>a.execute(r.model))}}}(this,i,t,e)):X("Cannot mount, no view object available to mount to")}),Promise.all(r)},n.selection.prototype.view=function(t){if(arguments.length)return this.property("__d3_view__",t);for(var e=this.node(),r=e?e.__d3_view__:null,n=e?e.parentNode:null;n&&!r;)r=n.__d3_view__,n=n.parentNode;return r},n.selection.prototype.model=function(){var t=this.view();return t?t.model:null},n.selection.prototype.directives=function(t){return arguments.length?this.property("__d3_directives__",t):this.node().__d3_directives__};var Yt={use(t){return e.isObject(t)?t.install(this):t(this),this},addComponent(t,e){var r=St(t,e);return this.components.set(t,r),r},addDirective(t,e){var r=Lt(e);return this.directives.set(t,r),r},mount(t,e){if(!Ut(this))return t&&(t=Y(t).node())?(this.ownerDocument=t.ownerDocument,Dt.call("component-mount",void 0,this,t),this.model=this.createModel(this.model),qt(this,t,e)):this.logWarn("element not defined, pass an identifier or an HTMLElement object")}},Ht={attr:a,html:l,value:m,on:g,for:{create(t){var e=[];return t.trim().split(" ").forEach(t=>{t&&e.push(t)}),3!==e.length||"in"!=e[1]?this.logWarn(`directive requires "item in expression" template, got "${t}"`):(this.itemName=e[0],this.itemClass=`for${this.uid}`,e[2])},preMount:()=>!0,mount(t){if(this.creator=this.el,this.el=this.creator.parentNode,n.select(this.creator).remove(),this.el)return t},refresh(t,r){if(!e.isArray(r))return;let n;var i=this.creator,o=`${i.tagName}.${this.itemClass}`,s=this.itemName,a=this.sel,l=a.selectAll(o),u=l.filter(function(){return n=this.__d3_view__.model[s],r.indexOf(n)>-1}).data(r),c=l.filter(function(){return n=this.__d3_view__.model[s],-1===r.indexOf(n)}),d=St("forView",Yt),h=a.view();let p,f,v,m;(this.transition(c)||c).style("opacity",0).remove(),u.enter().append(()=>(f=i.cloneNode(!0),v=h.select(f),h.transitionDuration(v)>0&&v.style("opacity",0),f)).classed(this.itemClass,!0).each(function(t,e){(p={index:e})[s]=t,d({model:p,parent:h}).mount(this,t=>{r[e]=t.model[s],(m=t.transition())&&m.style("opacity",1)})}).merge(u).each(function(t){this.__d3_view__.model[s]=t})}},if:{mount(t){var e=this.sel;return this.display=e.style("display"),this.display&&"none"!==this.display||(this.display="block"),t},refresh(t,e){var r=this.sel,n=this.passes?this.transition(r):null;e?r.style("display",this.display):n||r.style("display","none"),n&&(e?n.style("opacity",1):n.style("opacity",0).on("end",()=>r.style("display","none")))}}};if(e.inBrowser&&window.MutationObserver){new window.MutationObserver(function(t){let e,r,i,o;t.forEach(t=>{if((r=t.removedNodes)&&r.length){o=t.target?n.select(t.target).view():null;for(let t=0;t<r.length;++t)(i=r[t]).querySelectorAll&&(e=n.select(i),(o||e.view())&&(e.selectAll("*").each(Gt),Gt.call(r[t])))}})}).observe(document.documentElement,{childList:!0,subtree:!0})}function Gt(){var t=this.__d3_directives__,e=this.__d3_view__;t&&(t.all.forEach(t=>t.destroy()),delete this.__d3_directives__),e&&(e.destroy(),delete this.__d3_view__)}const Vt=Ft(new Map,Ht),Jt=Xt(new Map,o);function Kt(){document.removeEventListener("DOMContentLoaded",Kt),window.removeEventListener("load",Kt),Qt()}function Qt(){let t;for(;k.readyCallbacks.length;)t=k.readyCallbacks.shift(),r.timeout(t)}const Zt={inputData(t,r){var n=this.model;return r||(r={}),r.id=r.id||n.uid,n.data=r,t.attr("id",r.id),r.classes&&t.classed(r.classes,!0),function(t,r,n){var i,o;if(!e.isObject(n))return;for(o in n)i=n[o],e.isObject(i)&&(i=JSON.stringify(i)),t.attr(o,i||"")}(t,0,r.attributes),s.forEach((n,i)=>{var o=r[i];o&&(e.isString(o)?t.attr(`d3-attr-${i}`,o):t.property(n,!0))}),r},wrap(t){var e=this,r=t;return e.model.$formExtensions.forEach(n=>{r=n(e,r,t)||r}),r},wrapTemplate(t,e){var r=document.createElement("div"),i=n.select(r).html(e).select("slot");if(!i.size())return this.logWarn("template does not provide a slot element"),t;var o=n.select(i.node().parentNode);return t.nodes().forEach(function(t){o.insert(()=>t,"slot")}),i.remove(),n.selectAll(r.children)}};var te=e.assign({},Zt,{model:{value:null,error:"",isDirty:null,changed:!1,srOnly:!1,placeholder:"",showError:{reactOn:["error","isDirty"],get(){return!!this.error&&this.isDirty}},$validate(){}},inputData(t,e){if(!(e=Zt.inputData.call(this,t,e)).name)return this.logError("Input field without a name");t.attr("name",e.name),e.placeholder=e.placeholder||e.label||e.name;var r=this.model;return r.form.inputs[e.name]=r,r.name=e.name,r.$on("value",()=>{null===r.isDirty?r.isDirty=!1:(r.isDirty=!0,r.changed=!0),r.form.$change(),r.$emit("formFieldChange",r)}),e}});const ee={text:"input",email:"input",password:"input",checkbox:"input",number:"input",date:"input",url:"input","datetime-local":"input"};function re(t){var r=this.model.data.children;if(r){if(!e.isArray(r))return this.logError(`children should be an array of fields, got ${typeof r}`),t;t.selectAll(".d3form").data(r).enter().append(ne).classed("d3form",!0)}return t}function ne(t){var e=function(t){var e=t.type||"text";return ee[e]||e}(t);return document.createElement(`d3-form-${e}`)}var ie=e.assign({},Zt,{render(t){var e=t&&t.tag||"fieldset",r=this.createElement(e);return t=this.inputData(r,t),re.call(this,r)}});var oe={get(t){var r=this.all.slice(0);if(e.isObject(t))for(var n in t)r.push(ae(n,t[n]));return r},set(t,e){var r=t.model;r.validators.forEach(t=>t.set(e,r.data)),r.$on("value.validate",this.validate),r.$validate=this.validate},validate(){for(var t,e=this.$$view,r=this.validators,n=this.value,i=e.sel.attr("id")===this.data.id?e.sel:e.sel.select(`#${this.data.id}`),o=0;o<r.length;++o)if(t=r[o].validate(i,n)){!0===t&&(t="");break}this.error=t||""},all:[{set(t,r){var n=r.required;e.isString(n)?t.attr("d3-required",n):t.property("required",n||!1)},validate(t,e){if(t.property("required")){if(!e)return"required";if(""===e)return!0}}},{set(t,r){var n=r.minLength;e.isString(n)?t.attr("d3-attr-minlength",n):void 0!==n&&t.attr("minlength",n)},validate(t,e){var r=+t.attr("minlength");if(r==r&&r>0&&e.length<r)return`too short - ${r} characters or more expected`}},{set(t,r){var n=r.maxLength;e.isString(n)?t.attr("d3-attr-maxlength",n):void 0!==n&&t.attr("maxlength",n)},validate(t,e){var r=+t.attr("maxlength");if(r==r&&r>0&&e&&e.length>r)return`too long - ${r} characters or less expected`}},{set(t,r){var n=r.minimum;e.isString(n)?t.attr("d3-attr-min",n):void 0!==n&&t.attr("min",n)},validate(t,e){var r=se(t);if(r&&+e<r[0])return`must be greater or equal ${r[0]}`}},{set(t,r){var n=r.maximum;e.isString(n)?t.attr("d3-attr-max",n):void 0!==n&&t.attr("max",n)},validate(t,e){var r=se(t);if(r&&+e>r[1])return`must be less or equal ${r[1]}`}}]};function se(t){var e=t.attr("min"),r=t.attr("max");return[e=null===e?-1/0:+e,r=null===r?1/0:+r]}function ae(t,e){return{set(e,r){r[t]},validate:(t,r)=>e(t,r)}}const le=["checkbox","radio"];var ue=e.assign({},te,{render(t){var e=this.createElement("input");return t=this.inputData(e,t),e.attr("type",t.type||"text").attr("d3-value","value"),-1===le.indexOf(e.attr("type"))&&e.attr("placeholder",t.placeholder),oe.set(this,e),this.wrap(e)}}),ce=e.assign({},te,{render(t){var e=this.createElement("textarea");return t=this.inputData(e,t),e.attr("placeholder",t.placeholder).attr("d3-value","value"),oe.set(this,e),this.wrap(e)}}),de=e.assign({},te,{model:e.assign({options:[],$optionLabel:function(){return e.isArray(this.option)?this.option[1]||this.option[0]:this.option},$optionValue:function(){return e.isArray(this.option)?this.option[0]:this.option}},te.model),render(t){var e=this.createElement("select");return t=this.inputData(e,t),e.attr("d3-value","value").attr("placeholder",t.placeholder).append("option").attr("d3-for","option in options").attr("d3-html","$optionLabel()").attr("d3-attr-value","$optionValue()"),oe.set(this,e),this.wrap(e)}});var he=e.assign({},Zt,{render(t){var e=t&&t.tag||"button",r=this.createElement(e);t=this.inputData(r,t);var i=this.model;return i.type=t.type||"submit",t.endpoint&&(i.endpoint=t.endpoint),i.$submit=(()=>{n.event&&n.event.defaultPrevented||i.actions.submit.call(i,n.event)}),t.submit||(t.submit="$submit()"),r.attr("type",i.type).attr("name",i.name).attr("d3-on-click",t.submit).html(t.label||"submit"),this.wrap(r)}}),pe={default:function(t){var e=t.status<300?"info":t.status<500?"warning":"error";this.$emit("formMessage",{level:e,data:t.data,response:t})},redirect:function(t){this.$$view.providers.location.href=t.data.redirectTo||"/"}};var fe={submit:function(t){var r=this.form,n=this.$$view,i=e.assign({},me,this.endpoint);t&&(t.preventDefault(),t.stopPropagation());var o=r.$inputData(),s={};if(!i.url)return void n.logError("No url, cannot submit form");if("application/json"===i.contentType)s.headers={"Content-Type":i.contentType},s.body=JSON.stringify(o);else for(var a in s.body=new FormData,o)s.body.append(a,o[a]);r.$setSubmit()?(s.method=i.method,n.json(i.url,s).then(l,l)):r.$setSubmitDone();function l(t){r.$setSubmitDone(),t.status&&t.headers?r.$response(t):r.$emit("formMessage",{level:"error",message:ve[t.message]||ve.default})}}};const ve={default:"<strong>Error!</strong> Could not submit form"},me={contentType:"application/json",method:"POST"};var ge={props:["schema","values"],components:{"d3-form-fieldset":ie,"d3-form-input":ue,"d3-form-textarea":ce,"d3-form-select":de,"d3-form-submit":he},model:{formSubmitted:!1,formPending:!1,$isValid(t){let e,r=!0;for(var n in this.inputs)e=this.inputs[n],t&&(e.isDirty=!0),e.$validate(),e.error&&(r=!1);return r},$setSubmit(){return this.formSubmitted=!0,this.formPending=!0,this.$isValid(!0)},$setSubmitDone(){this.formPending=!1},$inputData(){var t,e=this.inputs,r={};for(var n in e)((t=e[n].value)||ue.changed)&&(r[n]=t);return r},$response(t){if(t.data)if(this.data.resultHandler){var e=pe[this.data.resultHandler];e?e.call(this,t):this.$$view.logError(`Could not find ${this.data.resultHandler} result handler`)}else pe.default.call(this,t);else this.$responseError(t)},$responseError(t){this.$emit("formMessage",{level:"error",data:t.data,response:t})}},render(t){var r=this.model,n=this.createElement("form").attr("novalidate",""),i=this;r.$formExtensions=this.root.$formExtensions||[],r.inputs={},r.actions={},r.form=r;var o=t.schema;return t.values&&(o.values=t.values),e.isString(o)?this.json(o).then(t=>s(t.data)):s(o);function s(t){for(var o in t=Zt.inputData.call(i,n,t),r.validators=oe.get(t.validators),fe){var s=t[o];e.isString(s)&&(s=i.model.$get(s)),r.actions[o]=s||fe[o]}return re.call(i,n),n}},childrenMounted(){var t=this.model,e=t.data.values;e&&Object.keys(e).forEach(r=>{var n=t.inputs[r];n&&(n.value=e[r])})}},ye={install(t){t.addComponent("d3form",ge),t.$formExtensions=[]},actions:fe,responses:pe};const $e='<div class="form-group">\n<slot></slot>\n</div>';const be={input:["inputGroup","label","formGroup"],checkbox:["formCheck"],textarea:["label","formGroup"],select:["label","formGroup"],submit:["submit"],wrappers:{label:function(t,e){var r=t.model.data;return t.wrapTemplate(e,function(t){var e=t.label||t.name;return`<label for=${t.id} class="control-label" d3-class="[srOnly ? 'sr-only' : null]">${e}</label>\n<slot></slot>`}(r))},formGroup:function(t,e,r){var n=t.model.data,i=void 0!==n.size?n.size:t.model.form.data.size,o=i?`form-control form-control-${i}`:"form-control";return r.classed(o,!0).attr("d3-class",`[${n.required||!1} ? "form-control-required" : null, showError ? "form-control-danger" : null]`),t.wrapTemplate(e,'<div class="form-group" d3-class=\'showError ? "has-danger" : null\'>\n<slot></slot>\n<p d3-if="showError" class="text-danger error-block" d3-html="error"></p>\n</div>')},inputGroup:function(t,e,r){var n=t.model.data.group;if(!n)return e;var i=`g${r.attr("id")}`;return r.attr("aria-describedby",i),t.wrapTemplate(e,function(t,e){return`<div class="input-group" :class="bootstrapStatus()">\n<span class="input-group-addon" id="${t}">${e}</span>\n<slot></slot>\n</div>`}(i,n))},formCheck:function(t,e,r){var n=t.model.data;return r.classed("form-check-input",!0),t.wrapTemplate(e,`<div class="form-check">\n<label class="form-check-label">\n<slot></slot>\n${n.label}\n</label>\n</div>`)},submit:function(t,e,r){var n=t.model.data.theme||"primary";return r.classed("btn",!0).classed(`btn-${n}`,!0),t.wrapTemplate(e,$e)}}};var we={install(t){if(!t.$formExtensions)return t.logWarn("form bootstrap requires the form plugin installed first!");t.$formExtensions.push(Ee)}};function Ee(t,e,r){var n=be[r.attr("type")]||be[r.node().tagName.toLowerCase()];if(!n)return e;let i;return n.forEach(n=>{(i=be.wrappers[n])?e=i(t,e,r):t.logWarn(`Could not find form field wrapper ${n}`)}),e}t.view=function(t){return St("view",Yt,Vt,Jt)(t)},t.viewBase=V,t.viewEvents=Dt,t.viewModel=Ct,t.viewExpression=mt,t.viewReady=function(t){k.readyCallbacks.push(t),"complete"!==document.readyState?(document.addEventListener("DOMContentLoaded",Kt),window.addEventListener("load",Kt)):Qt()},t.viewProviders=k,t.viewWarn=X,t.viewForms=ye,t.viewBootstrapForms=we,t.viewSelect=Y,t.viewUid=$t,t.viewDebounce=u,t.viewSlugify=function(t){t=(t=t.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var e="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",r=0,n=e.length;r<n;r++)t=t.replace(new RegExp(e.charAt(r),"g"),"aaaaeeeeiiiioooouuuunc------".charAt(r));return t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")},t.jsep=ut,t.viewVersion="1.3.0",t.viewElement=q,t.viewTemplate=F,t.isAbsoluteUrl=function(t){return A.test(t)},t.viewRequire=j,t.viewResolve=R,t.jsonResponse=W,t.HttpResponse=U,t.HttpError=B,Object.defineProperty(t,"__esModule",{value:!0})});

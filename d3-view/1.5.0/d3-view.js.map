{"version":3,"file":"d3-view.js","sources":["../src/require.js","../src/utils/providers.js","../src/utils/http.js","../src/utils/select.js","../src/utils/warn.js","../src/utils/template.js","../src/core/base.js","../src/core/transition.js","../src/forms/bootstrap/check.js","../src/forms/bootstrap/error.js","../src/forms/bootstrap/form-group.js","../src/forms/bootstrap/help.js","../src/forms/bootstrap/input-group.js","../src/forms/bootstrap/label.js","../src/forms/bootstrap/submit.js","../src/forms/bootstrap/plugin.js","../src/forms/actions.js","../src/utils/htmlprops.js","../src/forms/utils.js","../src/forms/field.js","../src/utils/map.js","../src/forms/validators.js","../src/forms/validate.js","../src/forms/field-input.js","../src/forms/field-select.js","../src/forms/field-set.js","../src/forms/field-submit.js","../src/forms/field-textarea.js","../src/forms/responses.js","../src/forms/form.js","../src/forms/plugin.js","../src/core/clean.js","../src/model/array.js","../src/utils/uid.js","../src/utils/debounce.js","../src/model/dispatch.js","../src/model/as.js","../src/utils/slice.js","../src/model/change.js","../src/model/connect.js","../src/model/data.js","../src/model/emit.js","../src/model/isreactive.js","../src/model/off.js","../src/model/on.js","../src/model/owner.js","../src/utils/object.js","../src/model/set.js","../src/model/string.js","../src/model/update.js","../src/model/main.js","../src/utils/dashify.js","../src/utils/data.js","../src/utils/maybeJson.js","../src/utils/sel.js","../src/core/cache.js","../src/parser/jsep.js","../src/parser/eval.js","../src/parser/expression.js","../src/core/directive.js","../src/core/getdirs.js","../src/core/selection.js","../src/core/component.js","../src/directives/attr.js","../src/directives/for.js","../src/directives/html.js","../src/directives/if.js","../src/directives/on.js","../src/directives/types/type.js","../src/directives/types/checkbox.js","../src/directives/types/input.js","../src/directives/types/select.js","../src/directives/types/index.js","../src/directives/value.js","../src/directives/index.js","../src/main.js","../src/utils/dom.js","../src/utils/slugify.js"],"sourcesContent":["const isAbsolute = new RegExp(\"^([a-z]+://|//)\"),\n  isRelative = new RegExp(\"^[.]{0,2}/\"),\n  hasOwnProperty = Array.prototype.hasOwnProperty;\n\nexport const viewLibs = new Map();\nexport const isAbsoluteUrl = url => isAbsolute.test(url);\n\nexport const viewResolve = (name, options) => {\n  var dist = viewLibs.get(name),\n    main = name,\n    path = null,\n    base = typeof location !== \"undefined\" ? location : \"\";\n\n  if (options) {\n    if (typeof options.base === \"string\") base = options.base;\n    path = removeFrontSlash(options.path);\n  }\n\n  if (dist) {\n    path = path || dist.main;\n    main = removeBackSlash(dist.origin || main);\n    if (dist.version) main = `${name}@${dist.version}`;\n    if (path) main = `${main}/${path}`;\n  } else if (path) {\n    if (isAbsolute.test(main)) main = new URL(main, base).origin;\n    else if (isRelative.test(main)) main = \"\";\n    main = `${main}/${path}`;\n  }\n\n  if (isAbsolute.test(main)) {\n    return main;\n  } else if (isRelative.test(main)) {\n    return new URL(main, base).href;\n  } else {\n    if (!main.length || /^[\\s._]/.test(main) || /\\s$/.test(main))\n      throw new Error(\"illegal name\");\n    return \"https://unpkg.com/\" + main;\n  }\n};\n\nexport const viewRequireFrom = (resolver, root) => {\n  const modules = new Map(),\n    queue = [],\n    map = queue.map,\n    some = queue.some,\n    getRoot = () => {\n      return !root && typeof window !== \"undefined\" ? window : root;\n    },\n    requireRelative = base => {\n      return name => {\n        var url = resolver(name + \"\", base),\n          module = modules.get(url);\n        if (!module)\n          modules.set(\n            url,\n            (module = new Promise((resolve, reject) => {\n              root = getRoot();\n              const script = root.document.createElement(\"script\");\n              script.onload = function() {\n                try {\n                  resolve(queue.pop()(requireRelative(url)));\n                } catch (error) {\n                  reject(new Error(\"invalid module\"));\n                }\n                script.remove();\n              };\n              script.onerror = function() {\n                reject(new Error(\"unable to load module\"));\n                script.remove();\n              };\n              script.async = true;\n              script.src = url;\n              root.define = define;\n              root.document.head.appendChild(script);\n            }))\n          );\n        return module;\n      };\n    },\n    requireOne = requireRelative(null);\n\n  function require(name) {\n    return arguments.length > 1\n      ? Promise.all(map.call(arguments, requireOne)).then(merge)\n      : requireOne(name);\n  }\n\n  require.root = getRoot;\n\n  define.amd = {};\n\n  return require;\n\n  function define(name, dependencies, factory) {\n    if (arguments.length < 3) (factory = dependencies), (dependencies = name);\n    if (arguments.length < 2) (factory = dependencies), (dependencies = []);\n    queue.push(\n      some.call(dependencies, isexports)\n        ? function(require) {\n            var exports = {};\n            return Promise.all(\n              map.call(dependencies, function(name) {\n                return isexports((name += \"\")) ? exports : require(name);\n              })\n            ).then(function(dependencies) {\n              factory.apply(null, dependencies);\n              return exports;\n            });\n          }\n        : function(require) {\n            return Promise.all(map.call(dependencies, require)).then(function(\n              dependencies\n            ) {\n              return typeof factory === \"function\"\n                ? factory.apply(null, dependencies)\n                : factory;\n            });\n          }\n    );\n  }\n};\n\nexport const viewRequire = viewRequireFrom(viewResolve);\n\n// INTERNALS\n\nconst isexports = name => name + \"\" === \"exports\";\n\nconst removeFrontSlash = path => {\n  if (typeof path === \"string\" && path.substring(0, 1) === \"/\")\n    path = path.substring(1);\n  return path;\n};\n\nconst removeBackSlash = path => {\n  if (typeof path === \"string\" && path.substring(path.length - 1) === \"/\")\n    path = path.substring(0, path.substring);\n  return path;\n};\n\nconst merge = modules => {\n  var o = {},\n    i = -1,\n    n = modules.length,\n    m,\n    k;\n  while (++i < n) {\n    for (k in (m = modules[i])) {\n      if (hasOwnProperty.call(m, k)) {\n        if (m[k] == null) Object.defineProperty(o, k, { get: getter(m, k) });\n        else o[k] = m[k];\n      }\n    }\n  }\n  return o;\n};\n\nconst getter = (object, name) => {\n  return () => object[name];\n};\n","import { inBrowser, isFunction, logger } from \"d3-let\";\nimport { viewRequire, viewResolve } from \"../require\";\n\nlogger.debug = null;\n\nexport default {\n  //\n  require: viewRequire,\n  //\n  resolve: viewResolve,\n  //\n  // log messages\n  logger: logger,\n  //\n  // callbacks when page is loaded in browser\n  readyCallbacks: [],\n  // Set/unset debug\n  setDebug(active) {\n    if (!arguments.length || active)\n      this.logger.debug = isFunction(active) ? active : defaultDebug;\n    else this.logger.debug = null;\n  },\n  fetch: inBrowser ? window.fetch : null\n};\n\nfunction defaultDebug(msg) {\n  this.info(msg);\n}\n","export function HttpResponse(response, data) {\n  this.response = response;\n  this.data = data;\n  this.status = response.status;\n  this.headers = response.headers;\n  this.description = response.statusText;\n}\n\nexport function HttpError(response, data, description) {\n  this.response = response;\n  this.data = data;\n  this.status = response.status;\n  this.headers = response.headers;\n  this.description = description || response.statusText;\n}\n\nexport function jsonResponse(response) {\n  var ct = (response.headers.get(\"content-type\") || \"\").split(\";\")[0];\n  if (ct === \"application/json\")\n    return response.json().then(data => new HttpResponse(response, data));\n  else {\n    var msg =\n      response.status < 300\n        ? `Expected \"application/json\" content type, got \"${ct}\"`\n        : null;\n    throw new HttpError(response, null, msg);\n  }\n}\n\nexport function textResponse(response) {\n  if (response.status < 300)\n    return response.text().then(data => new HttpResponse(response, data));\n  else {\n    throw new HttpError(response);\n  }\n}\n\nHttpError.prototype = Error.prototype;\n","import { isFunction } from \"d3-let\";\nimport { select } from \"d3-selection\";\n\nexport default el => (!el || !isFunction(el.size) ? select(el) : el);\n","import providers from \"./providers\";\n\nconst prefix = \"[d3-view]\";\n\nexport default msg => providers.logger.warn(`${prefix} ${msg}`);\n","import { isString } from \"d3-let\";\nimport { select } from \"d3-selection\";\nimport providers from \"./providers\";\nimport warn from \"./warn\";\n\nexport const template = (source, context) => {\n  if (isString(source)) {\n    if (context) {\n      var s = compile(source);\n      if (!s) return source;\n      source = s;\n    } else return source;\n  }\n  return source(context);\n};\n\nexport const htmlElement = (source, context, ownerDocument) => {\n  ownerDocument = ownerDocument || document;\n  var el = select(ownerDocument.createElement(\"div\"));\n  el.html(template(source, context));\n  var children = el.node().children;\n  if (children.length !== 1)\n    warn(\n      `viewElement function should return one root element only, got ${\n        children.length\n      }`\n    );\n  return children[0];\n};\n\nconst compile = text => {\n  var compile = providers.compileTemplate;\n  if (compile) return compile(text);\n  warn(\n    \"No compileTemplate function available in viewProviders, cannot render template\"\n  );\n};\n","import { event, select, selectAll } from \"d3-selection\";\nimport \"d3-transition\";\nimport { viewRequireFrom, viewResolve } from \"../require\";\nimport { jsonResponse, textResponse } from \"../utils/http\";\nimport providers from \"../utils/providers\";\nimport asSelect from \"../utils/select\";\nimport { htmlElement, template } from \"../utils/template\";\n\n//\n//  Base d3-view Object\n//  =====================\n//\nexport default {\n  // available once mounted\n  // this is the browser window.document unless we are mounting on jsdom\n  ownerDocument: null,\n  //\n  // d3-view object\n  isd3: true,\n  //\n  providers: providers,\n  //\n  // Create a view element from a template and optional context\n  viewElement(source, context, ownerDocument) {\n    return htmlElement(source, context, ownerDocument || this.ownerDocument);\n  },\n  //\n  select(selector) {\n    if (typeof selector === \"string\")\n      return select(this.ownerDocument || document).select(selector);\n    return select(selector);\n  },\n  //\n  selectAll(selector) {\n    if (typeof selector === \"string\")\n      return select(this.ownerDocument || document).selectAll(selector);\n    return selectAll(selector);\n  },\n  //\n  // Shortcut for fetch function in providers\n  fetch(url, options) {\n    var fetch = providers.fetch;\n    return arguments.length == 1 ? fetch(url) : fetch(url, options);\n  },\n  //\n  fetchText(url, ...x) {\n    return this.fetch(url, ...x).then(textResponse);\n  },\n  //\n  json(url, ...x) {\n    return this.fetch(url, ...x).then(jsonResponse);\n  },\n  //\n  // render a template from a url\n  renderFromUrl(url, context, asElement = true) {\n    var cache = this.cache;\n    if (cache.has(url))\n      return Promise.resolve(render(cache.get(url), context, asElement));\n    return this.fetchText(url).then(response => {\n      cache.set(url, response.data);\n      return render(response.data, context, asElement);\n    });\n  },\n  //\n  // render from a distribution name. Use d3-require resolve method to find the url\n  renderFromDist(dist, path, context, asElement = true) {\n    var resolve = providers.resolve;\n    return this.renderFromUrl(\n      resolve(dist, { path: path }),\n      context,\n      asElement\n    );\n  },\n  //\n  on(el, name, callback) {\n    el = asSelect(el);\n    if (callback === null) return el.on(name, null);\n    else el.on(name, () => callback(event));\n  },\n  //\n  selectChildren(el) {\n    if (!arguments.length) el = this.el;\n    return this.selectAll(Array.prototype.slice.call(el.children));\n  },\n  //\n  domEvent() {\n    return event;\n  },\n  //\n  logError(err) {\n    if (err.stack) providers.logger.error(err);\n    else providers.logger.error(`[${this.name}] ${err}`);\n    return this;\n  },\n  //\n  logWarn(msg) {\n    providers.logger.warn(`[${this.name}] ${msg}`);\n    return this;\n  },\n  //\n  logInfo(msg) {\n    providers.logger.info(`[${this.name}] ${msg}`);\n    return this;\n  },\n  //\n  logDebug(msg) {\n    if (providers.logger.debug) providers.logger.debug(`[${this.name}] ${msg}`);\n    return this;\n  },\n\n  require() {\n    const root = this.ownerDocument.defaultView;\n    if (!root.d3) root.d3 = {};\n    let require = root.d3.require;\n    if (!require) {\n      if (this.providers.require.root() === root)\n        require = this.providers.require;\n      else require = viewRequireFrom(viewResolve, root);\n      root.d3.require = require;\n    }\n    return require.apply(undefined, arguments);\n  }\n};\n\nconst render = (text, context, asElement) =>\n  asElement ? htmlElement(text, context) : template(text, context);\n","import providers from \"../utils/providers\";\nimport base from \"./base\";\n\nproviders.transition = {\n  duration: 0\n};\n\nexport default Object.assign(base, {\n  //\n  // return a transition object if possible\n  transition(sel) {\n    if (!arguments.length) sel = this.sel;\n    var duration = this.transitionDuration(sel);\n    if (duration > 0) return sel.transition(this.uid).duration(duration);\n  },\n\n  transitionDuration(sel) {\n    if (!arguments.length) sel = this.sel;\n    if (sel && sel.size()) {\n      var duration = sel.attr(\"data-transition-duration\");\n      return +(duration || providers.transition.duration);\n    }\n    return 0;\n  }\n});\n","export default function(field, wrappedEl, fieldEl) {\n  var data = field.props;\n  fieldEl.classed(\"custom-control-input\", true);\n  return field.wrapTemplate(wrappedEl, groupTpl(data));\n}\n\nfunction groupTpl(data) {\n  return `\n        <div class=\"custom-control custom-checkbox\">\n            <slot></slot>\n            <label class=\"custom-control-label\" for=\"${data.id}\">${\n    data.label\n  }</label>\n        </div>\n    `;\n}\n","export default (field, wrappedEl) => {\n  return field.wrapTemplate(\n    wrappedEl,\n    `<slot></slot><div class=\"invalid-feedback\" d3-html=\"error\"></div>`\n  );\n};\n","export default (field, wrappedEl, fieldEl) => {\n  var data = field.props,\n    size = data.size !== undefined ? data.size : data.form.props.size,\n    fc = size ? `form-control form-control-${size}` : \"form-control\";\n  fieldEl\n    .classed(fc, true)\n    .attr(\n      \"d3-class\",\n      `[${data.required ||\n        false} ? \"form-control-required\" : null, showError ? \"is-invalid\" : null]`\n    );\n  return field.wrapTemplate(\n    wrappedEl,\n    `<div class=\"form-group\"><slot></slot></div>`\n  );\n};\n","export default function(field, wrappedEl, fieldEl) {\n  var data = field.props;\n  if (data.help) {\n    fieldEl.attr(\"aria-describedby\", `help-${data.id}`);\n    return field.wrapTemplate(wrappedEl, helpTpl(data));\n  } else return wrappedEl;\n}\n\nfunction helpTpl(data) {\n  return `<slot></slot><small id=\"help-${\n    data.id\n  }\" class=\"form-text text-muted\">${data.help}</small>`;\n}\n","export default function(field, wrappedEl, fieldEl) {\n  var data = field.props,\n    ig = data.group;\n  if (!ig) return wrappedEl;\n  var gid = `g${fieldEl.attr(\"id\")}`;\n  fieldEl.attr(\"aria-describedby\", gid);\n  return field.wrapTemplate(wrappedEl, groupTpl(gid, ig));\n}\n\nfunction groupTpl(gid, group) {\n  return `\n        <div class=\"input-group\">\n            <div class=\"input-group-prepend\">\n                <span class=\"input-group-text\" id=\"${gid}\">${group}</span>\n            </div>\n            <slot></slot>\n        </div>\n    `;\n}\n","export default function(field, wrappedEl) {\n  var data = field.props;\n  return field.wrapTemplate(wrappedEl, labelTpl(data));\n}\n\nfunction labelTpl(data) {\n  var label = data.label || data.name;\n\n  return `<label for=${\n    data.id\n  } class=\"control-label\" d3-class=\"[srOnly ? 'sr-only' : null]\">${label}</label>\n<slot></slot>`;\n}\n","const groupTpl = `<div class=\"form-group\">\n<slot></slot>\n</div>`;\n\nexport default function(field, wrappedEl, fieldEl) {\n  var data = field.props,\n    theme = data.theme || \"primary\";\n  fieldEl.classed(\"btn\", true).classed(`btn-${theme}`, true);\n  return field.wrapTemplate(wrappedEl, groupTpl);\n}\n","import formCheck from \"./check\";\nimport error from \"./error\";\nimport formGroup from \"./form-group\";\nimport help from \"./help\";\nimport inputGroup from \"./input-group\";\nimport label from \"./label\";\nimport submit from \"./submit\";\n\nconst bootstrap = {\n  input: [\"error\", \"inputGroup\", \"label\", \"help\", \"formGroup\"],\n  checkbox: [\"error\", \"formCheck\", \"help\", \"formGroup\"],\n  textarea: [\"error\", \"label\", \"help\", \"formGroup\"],\n  select: [\"error\", \"label\", \"help\", \"formGroup\"],\n  submit: [\"submit\"],\n  wrappers: {\n    error,\n    label,\n    formGroup,\n    inputGroup,\n    formCheck,\n    submit,\n    help\n  }\n};\n\n//\n//  Bootstrap plugin\n//  ===================\n//\n//  Simply add a new form extension to wrap form fields\n//\nexport default {\n  install(vm) {\n    if (!vm.$formExtensions)\n      return vm.logWarn(\n        \"form bootstrap requires the form plugin installed first!\"\n      );\n    vm.$formExtensions.push(wrapBootstrap);\n  }\n};\n\nfunction wrapBootstrap(field, wrappedEl, fieldEl) {\n  var wrappers =\n    bootstrap[fieldEl.attr(\"type\")] ||\n    bootstrap[fieldEl.node().tagName.toLowerCase()];\n  if (!wrappers) return wrappedEl;\n  let wrap;\n\n  wrappers.forEach(wrapper => {\n    wrap = bootstrap.wrappers[wrapper];\n    if (wrap) wrappedEl = wrap(field, wrappedEl, fieldEl);\n    else field.logWarn(`Could not find form field wrapper ${wrapper}`);\n  });\n\n  return wrappedEl;\n}\n","import { assign } from \"d3-let\";\n\n//\n// Form Actions\nexport default {\n  submit: submit\n};\n\nconst messages = {\n  default: \"<strong>Error!</strong> Could not submit form\"\n};\n\nconst endpointDefaults = {\n  contentType: \"application/json\",\n  method: \"POST\"\n};\n\n//\n// Submit action\nfunction submit(e) {\n  var submit = this,\n    view = submit.$$view,\n    form = view.props.form,\n    endpoint = assign({}, endpointDefaults, submit.props.endpoint);\n\n  if (e) {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  var data = form.$inputData(),\n    options = {};\n\n  if (!endpoint.url) {\n    view.logError(\"No url, cannot submit form\");\n    return;\n  }\n\n  if (endpoint.contentType === \"application/json\") {\n    options.headers = {\n      \"Content-Type\": endpoint.contentType\n    };\n    options.body = JSON.stringify(data);\n  } else {\n    options.body = new FormData();\n    for (var key in data) options.body.append(key, data[key]);\n  }\n\n  // Flag the form as submitted\n  if (!form.$setSubmit()) {\n    // form not valid, don't bother with request\n    form.$setSubmitDone();\n  } else {\n    options.method = endpoint.method;\n    view.json(endpoint.url, options).then(done, done);\n  }\n\n  function done(response) {\n    form.$setSubmitDone();\n    if (response.status && response.headers) form.$response(response);\n    else\n      form.$emit(\"formMessage\", {\n        level: \"error\",\n        message: messages[response.message] || messages.default\n      });\n  }\n}\n","export default new Map([\n  [\"disabled\", \"disabled\"],\n  [\"readonly\", \"readOnly\"],\n  [\"required\", \"required\"]\n]);\n","import { isObject } from \"d3-let\";\n\nconst componentsFromType = {\n  text: \"input\",\n  email: \"input\",\n  password: \"input\",\n  checkbox: \"input\",\n  number: \"input\",\n  date: \"input\",\n  url: \"input\",\n  \"datetime-local\": \"input\"\n};\n\nexport const formComponent = child => {\n  var type = child.type || \"text\";\n  return componentsFromType[type] || type;\n};\n\nexport const addAttributes = (el, attributes) => {\n  var expr, attr;\n\n  if (!isObject(attributes)) return;\n\n  for (attr in attributes) {\n    expr = attributes[attr];\n    if (isObject(expr)) expr = JSON.stringify(expr);\n    el.attr(attr, expr || \"\");\n  }\n};\n\nexport function formChild(child) {\n  var component = formComponent(child);\n  return document.createElement(`d3-form-${component}`);\n}\n","import { assign, isArray, isString } from \"d3-let\";\nimport properties from \"../utils/htmlprops\";\nimport { addAttributes, formChild } from \"./utils\";\n\n//\n// Mixin for all form elements\nexport const formElement = {\n  props: [\"form\"],\n\n  addChildren(sel, form) {\n    var children = this.props.children;\n    if (children) {\n      if (!isArray(children)) {\n        this.logError(\n          `children should be an array of fields, got ${typeof children}`\n        );\n        return sel;\n      }\n      if (form)\n        children.forEach(c => {\n          c.form = form;\n        });\n      sel\n        .selectAll(\".d3form\")\n        .data(children)\n        .enter()\n        .append(formChild)\n        .attr(\"form\", \"form\")\n        .classed(\"d3form\", true);\n    }\n    return sel;\n  },\n\n  init(el) {\n    addAttributes(el, this.props.attributes);\n    properties.forEach((prop, key) => {\n      var value = this.props[key];\n      if (value) {\n        if (isString(value)) el.attr(`d3-attr-${key}`, value);\n        else el.property(prop, true);\n      }\n    });\n    return el;\n  },\n\n  // wrap the form element with extensions\n  wrap(fieldEl) {\n    var wrappedEl = fieldEl;\n\n    this.root.$formExtensions.forEach(extension => {\n      wrappedEl = extension(this, wrappedEl, fieldEl) || wrappedEl;\n    });\n\n    return wrappedEl;\n  },\n\n  wrapTemplate(sel, template) {\n    var outer = this.createElement(\"div\").html(template),\n      slot = outer.select(\"slot\");\n\n    if (!slot.size()) {\n      this.logWarn(\"template does not provide a slot element\");\n      return sel;\n    }\n    var target = this.select(slot.node().parentNode);\n    sel.nodes().forEach(function(node) {\n      target.insert(() => {\n        return node;\n      }, \"slot\");\n    });\n    slot.remove();\n    return this.selectAll(outer.node().children);\n  }\n};\n\n// A mixin for all form field components\nexport default assign({}, formElement, {\n  model: {\n    value: null,\n    error: \"\",\n    isDirty: null,\n    changed: false,\n    srOnly: false,\n    placeholder: \"\",\n    showError: {\n      reactOn: [\"error\", \"isDirty\"],\n      get() {\n        if (this.error) return this.isDirty;\n        return false;\n      }\n    },\n    // default validate function does nothing, IMPORTANT!\n    $validate() {}\n  },\n\n  init(el) {\n    // call parent method\n    formElement.init.call(this, el);\n    const props = this.props,\n      model = this.model;\n\n    if (!props.name) {\n      this.logError(\"Input field without a name\");\n      return el;\n    }\n\n    el.attr(\"name\", props.name);\n    if (!props.placeholder) props.placeholder = props.label || props.name;\n    //\n    // give name to model (for debugging info messages)\n    model.name = props.name;\n    //\n    // bind to the value property (two-way binding when used with d3-value)\n    model.$on(\"value\", () => {\n      // set isDirty to false if first time here, otherwise true\n      if (model.isDirty === null) {\n        model.isDirty = false;\n      } else {\n        model.isDirty = true;\n        model.changed = true;\n      }\n      // trigger a change event in the form\n      // required for form method such as $isValid\n      props.form.$change();\n      model.$emit(\"formFieldChange\", model);\n    });\n    return el;\n  },\n\n  mounted() {\n    // add this model to the form inputs object\n    this.props.form.inputs[this.props.name] = this.model;\n  }\n});\n","export default obj => {\n  if (obj && obj.constructor === Object) obj = Object.entries(obj);\n  return new Map(obj);\n};\n","import map from \"../utils/map\";\n\nconst required = {\n  set(el, data) {\n    if (data.required) el.property(\"required\", true);\n  },\n\n  validate(el, value) {\n    if (el.property(\"required\"))\n      if (!value) return \"required\";\n      else if (value === \"\") {\n        // this is valid, no need to continue with the remaining validators\n        return true;\n      }\n  }\n};\n\nconst minLength = {\n  set(el, data) {\n    var value = +data.minLength;\n    if (value === value) el.attr(\"minlength\", value);\n  },\n\n  validate(el, value) {\n    var l = +el.attr(\"minlength\");\n    if (l === l && l > 0 && value.length < l)\n      return `too short - ${l} characters or more expected`;\n  }\n};\n\nconst maxLength = {\n  set(el, data) {\n    var value = +data.maxLength;\n    if (value === value) el.attr(\"maxlength\", value);\n  },\n\n  validate(el, value) {\n    var l = +el.attr(\"maxlength\");\n    if (l === l && l > 0 && value && value.length > l)\n      return `too long - ${l} characters or less expected`;\n  }\n};\n\nconst minimum = {\n  set(el, data) {\n    var value = +data.minimum;\n    if (value === value) el.attr(\"min\", value);\n  },\n\n  validate(el, value) {\n    var r = range(el);\n    if (r && +value < r[0]) return `must be greater or equal ${r[0]}`;\n  }\n};\n\nconst maximum = {\n  set(el, data) {\n    var value = +data.maximum;\n    if (value === value) el.attr(\"max\", value);\n  },\n\n  validate(el, value) {\n    var r = range(el);\n    if (r && +value > r[1]) return `must be less or equal ${r[1]}`;\n  }\n};\n\nexport default map({\n  required,\n  minLength,\n  maxLength,\n  minimum,\n  maximum\n});\n\nconst range = el => {\n  var l0 = el.attr(\"min\"),\n    l1 = el.attr(\"max\");\n  l0 = l0 === null ? -Infinity : +l0;\n  l1 = l1 === null ? Infinity : +l1;\n  return [l0, l1];\n};\n","import validators from \"./validators\";\n\n// validator singleton\nexport default (vm, el) => {\n  validators.forEach(validator => {\n    if (validator.set) validator.set(el, vm.props);\n  });\n  vm.model.$on(\"value.validate\", validate);\n  vm.model.$validate = validate;\n};\n\nfunction validate() {\n  var vm = this.$$view,\n    value = this.value,\n    el =\n      vm.sel.attr(\"id\") === this.props.id\n        ? vm.sel\n        : vm.sel.select(`#${this.props.id}`),\n    msg;\n\n  for (let validator of validators.values()) {\n    msg = validator.validate(el, value);\n    if (msg) {\n      if (msg === true) msg = \"\";\n      break;\n    }\n  }\n\n  this.error = msg || \"\";\n}\n","import { assign } from \"d3-let\";\nimport field from \"./field\";\nimport validators from \"./validate\";\n\nconst checks = [\"checkbox\", \"radio\"];\n\n//\n// Input element\nexport default assign({}, field, {\n  render() {\n    const el = this.init(this.createElement(\"input\", true));\n\n    el.attr(\"type\", this.props.type || \"text\").attr(\"d3-value\", \"value\");\n\n    if (checks.indexOf(el.attr(\"type\")) === -1 && this.props.placeholder)\n      el.attr(\"placeholder\", this.props.placeholder);\n\n    validators(this, el);\n    return this.wrap(el);\n  }\n});\n","import { assign, isArray, isString } from \"d3-let\";\nimport field from \"./field\";\nimport validators from \"./validate\";\n\n//\n// Select element\nexport default assign({}, field, {\n  model: assign(\n    {\n      options: []\n    },\n    field.model\n  ),\n\n  render() {\n    const el = this.init(this.createElement(\"select\", true));\n    this.model.options = asOptions(this.model.options);\n    el.attr(\"d3-value\", \"value\")\n      .attr(\"placeholder\", this.props.placeholder)\n      .append(\"option\")\n      .attr(\"d3-for\", \"option in options\")\n      .attr(\"d3-html\", \"option.label\")\n      .attr(\"d3-attr-value\", \"option.value\");\n\n    validators(this, el);\n    return this.wrap(el);\n  }\n});\n\nconst asOptions = options => {\n  if (!isArray(options)) options = [];\n  options.forEach((opt, idx) => {\n    if (isArray(opt))\n      opt = {\n        value: opt[0],\n        label: opt[1] || opt[0]\n      };\n    else if (isString(opt))\n      opt = {\n        value: opt,\n        label: opt\n      };\n    options[idx] = opt;\n  });\n  return options;\n};\n","import { assign } from \"d3-let\";\nimport { formElement } from \"./field\";\n\n//\n// Fieldset element\nexport default assign({}, formElement, {\n  render() {\n    const tag = this.props.tag || \"fieldset\",\n      el = this.init(this.createElement(tag, true));\n    return this.addChildren(el);\n  }\n});\n","import { assign } from \"d3-let\";\nimport { formElement } from \"./field\";\n\n//\n// Submit element\nexport default assign({}, formElement, {\n  model: {\n    $submit() {\n      if (this.$event && this.$event.defaultPrevented) return;\n      this.props.form.actions.submit.call(this, this.$event);\n    }\n  },\n\n  render() {\n    const tag = this.props.tag || \"button\",\n      el = this.init(this.createElement(tag, true));\n\n    el.attr(\"type\", this.props.type || \"submit\")\n      .attr(\"name\", this.props.name || \"_submit_\")\n      .attr(\"d3-on-click\", \"$submit()\")\n      .html(this.props.label || \"submit\");\n\n    return this.wrap(el);\n  }\n});\n","import { assign } from \"d3-let\";\nimport field from \"./field\";\nimport validators from \"./validate\";\n\n//\n// Textarea element\nexport default assign({}, field, {\n  render() {\n    var el = this.init(this.createElement(\"textarea\", true));\n    el.attr(\"placeholder\", this.props.placeholder).attr(\"d3-value\", \"value\");\n\n    validators(this, el);\n    return this.wrap(el);\n  }\n});\n","//\n//  Form Responses\n//  ====================\n//\n//  To add/override responses:\n//\n//  import viewForms from 'd3-view'\n//\n//  viewForms.responses.myresponse = function (data, status, headers) {\n//      ...\n//  }\nexport default {\n  default: defaultResponse,\n  redirect\n};\n\n// The default response emit a formMessage to event to parent models\nfunction defaultResponse(response) {\n  var level =\n    response.status < 300\n      ? \"info\"\n      : response.status < 500\n        ? \"warning\"\n        : \"error\";\n  this.$emit(\"formMessage\", {\n    level: level,\n    data: response.data,\n    response: response\n  });\n}\n\nfunction redirect(response) {\n  var location = this.$$view.providers.location;\n  location.href = response.data.redirectTo || \"/\";\n}\n","import { assign, isString } from \"d3-let\";\nimport actions from \"./actions\";\nimport { formElement } from \"./field\";\nimport input from \"./field-input\";\nimport select from \"./field-select\";\nimport fieldset from \"./field-set\";\nimport submit from \"./field-submit\";\nimport textarea from \"./field-textarea\";\nimport responses from \"./responses\";\n\n// Main form component\nexport default assign({}, formElement, {\n  // Allow to specify and initial values\n  props: [\"url\", \"values\", \"form\"],\n\n  components: {\n    \"d3-form-fieldset\": fieldset,\n    \"d3-form-input\": input,\n    \"d3-form-textarea\": textarea,\n    \"d3-form-select\": select,\n    \"d3-form-submit\": submit\n  },\n\n  model: {\n    form: null, //  parent form\n    formSubmitted: false,\n    formPending: false,\n    $isValid(submitting) {\n      let inp,\n        valid = true;\n      for (var key in this.inputs) {\n        inp = this.inputs[key];\n        if (submitting) inp.isDirty = true;\n        inp.$validate();\n        if (inp.error) valid = false;\n      }\n      return valid;\n    },\n    $setSubmit() {\n      this.formSubmitted = true;\n      this.formPending = true;\n      return this.$isValid(true);\n    },\n    $setSubmitDone() {\n      this.formPending = false;\n    },\n    $inputData() {\n      var inputs = this.inputs,\n        data = {},\n        value;\n      for (var key in inputs) {\n        value = inputs[key].value;\n        if (value || input.changed) data[key] = value;\n      }\n      return data;\n    },\n    //\n    // response from a server submit\n    $response(response) {\n      if (response.data) {\n        if (this.props.resultHandler) {\n          var handler = responses[this.props.resultHandler];\n          if (!handler)\n            this.$$view.logError(\n              `Could not find ${this.props.resultHandler} result handler`\n            );\n          else handler.call(this, response);\n        } else {\n          responses.default.call(this, response);\n        }\n      } else this.$responseError(response);\n    },\n    //\n    //  bad response from server submit\n    $responseError(response) {\n      this.$emit(\"formMessage\", {\n        level: \"error\",\n        data: response.data,\n        response: response\n      });\n    }\n  },\n\n  render() {\n    if (this.props.url)\n      return this.json(this.props.url).then(response =>\n        this.build(response.data)\n      );\n    else return this.build();\n  },\n\n  childrenMounted() {\n    var model = this.model,\n      values = this.props.values;\n\n    if (values)\n      Object.keys(values).forEach(key => {\n        var inp = model.inputs[key];\n        if (inp) inp.value = values[key];\n      });\n  },\n\n  build(props) {\n    if (props) this.props = assign(this.props, props);\n    const form = this.init(\n        this.createElement(\"form\", true).attr(\"novalidate\", \"\")\n      ),\n      model = this.model;\n    //\n    model.$formExtensions = this.root.$formExtensions || [];\n    model.inputs = {};\n    model.actions = {};\n    //\n    // Form actions\n    for (var key in actions) {\n      var action = this.props[key];\n      if (isString(action)) action = this.model.$get(action);\n      model.actions[key] = action || actions[key];\n    }\n    return this.addChildren(form, model);\n  }\n});\n","import actions from \"./actions\";\nimport form from \"./form\";\nimport responses from \"./responses\";\nimport validators from \"./validators\";\n\n// Forms plugin\nexport default {\n  install(vm) {\n    vm.addComponent(\"d3form\", form);\n    // list of form Extensions\n    vm.$formExtensions = [];\n  },\n  actions,\n  responses,\n  validators\n};\n","import { inBrowser } from \"d3-let\";\nimport { select } from \"d3-selection\";\n\nif (inBrowser && window.MutationObserver) {\n  // DOM observer\n  // Check for changes in the DOM that leads to visual actions\n  const observer = new window.MutationObserver(Manager);\n  observer.observe(document.documentElement, {\n    childList: true,\n    subtree: true\n  });\n}\n\n//\n//  Clears element going out of scope\nfunction Manager(records) {\n  let sel, nodes, node, vm;\n\n  records.forEach(record => {\n    nodes = record.removedNodes;\n    if (!nodes || !nodes.length) return;\n    vm = record.target ? select(record.target).view() : null;\n\n    for (let i = 0; i < nodes.length; ++i) {\n      node = nodes[i];\n      if (!node.querySelectorAll || node.__d3_component__) continue;\n      sel = select(node);\n      if (vm || sel.view()) {\n        sel.selectAll(\"*\").each(destroy);\n        destroy.call(nodes[i]);\n      }\n    }\n  });\n}\n\nfunction destroy() {\n  var dirs = this.__d3_directives__,\n    view = this.__d3_view__;\n  if (dirs) {\n    dirs.all.forEach(d => d.destroy());\n    delete this.__d3_directives__;\n  }\n  if (view) {\n    view.destroy();\n    delete this.__d3_view__;\n  }\n}\n","export function $push(attr, value) {\n  var array = this[attr].slice();\n  array.push(value);\n  this[attr] = array;\n  return this;\n}\n\nexport function $splice(attr, idx, count) {\n  var array = this[attr].slice();\n  if (arguments.length == 2) array.splice(idx);\n  else if (arguments.length == 3) array.splice(idx, count);\n  this[attr] = array;\n  return this;\n}\n","let UID = 0;\nconst prefix = \"d3v\";\n\n// Add a unique identifier to an object\nexport default function(o) {\n  var uid = prefix + ++UID;\n\n  if (arguments.length) {\n    Object.defineProperty(o, \"uid\", {\n      get: function() {\n        return uid;\n      }\n    });\n\n    return o;\n  } else return uid;\n}\n","import { timeout } from \"d3-timer\";\n\n//\n// Evaluate a callback (optional) with given delay (optional)\n//\n// if delay is not given or 0, the callback is evaluated at the next tick\n// of the event loop.\n// Calling this method multiple times in the same event loop tick produces\n// always the initial promise\nexport default (callback, delay) => {\n  let promise = null,\n    self,\n    args;\n\n  function debounce(...rest) {\n    self = this;\n    args = rest;\n    if (promise !== null) return promise;\n\n    promise = new Promise((resolve, reject) => {\n      timeout(() => {\n        promise = null;\n        try {\n          resolve(callback ? callback.apply(self, args) : undefined);\n        } catch (err) {\n          reject(err);\n        }\n      }, delay);\n    });\n\n    return promise;\n  }\n\n  debounce.promise = () => promise;\n\n  return debounce;\n};\n","import { dispatch } from \"d3-dispatch\";\nimport debounce from \"../utils/debounce\";\n\nexport default () => {\n  let triggered = 0;\n\n  const events = dispatch(\"change\");\n\n  function change() {\n    events.apply(\"change\", this, arguments);\n    triggered += 1;\n  }\n\n  return {\n    change,\n    on(typename, callback) {\n      if (arguments.length < 2) return events.on(typename);\n      events.on(typename, callback);\n      return this;\n    },\n    trigger: debounce(change),\n    triggered() {\n      return triggered;\n    }\n  };\n};\n","import uid from \"../utils/uid\";\nimport ddispatch from \"./dispatch\";\n\n//\n// Initialise a model\nexport default function asModel(model, initials, parent, isolated) {\n  var events = new Map(),\n    Child = null;\n\n  // event handler for any change in the model\n  events.set(\"\", ddispatch());\n\n  Object.defineProperties(uid(model), {\n    $events: {\n      get() {\n        return events;\n      }\n    },\n    parent: {\n      get() {\n        return parent;\n      }\n    },\n    isolated: {\n      get() {\n        return isolated;\n      }\n    }\n  });\n  model.$child = $child;\n  model.$update(initials);\n\n  function $child(o) {\n    if (Child === null) Child = createChildConstructor(model);\n    return new Child(o);\n  }\n}\n\nfunction createChildConstructor(model) {\n  function Child(initials) {\n    asModel(this, initials, model, false);\n  }\n\n  Child.prototype = model;\n  return Child;\n}\n","export default (obj, idx = 0) => Array.prototype.slice.call(obj, idx);\n","import slice from \"../utils/slice\";\nimport warn from \"../utils/warn\";\n\n// trigger change event on a model reactive attribute\nexport default function(attribute) {\n  var name = arguments.length ? attribute : \"\",\n    event = this.$events.get(name),\n    args = slice(arguments, 1);\n  if (event) event.trigger.apply(this, args);\n  else if (!this.isolated) this.parent.$change(name);\n  else warn(`attribute '${name}' is not a reactive property this model`);\n  return this;\n}\n","import ddispatch from \"./dispatch\";\n//\n//  Connect a model attribute with another model attribute\n//  The attribute is read-only on the model an it reacts on parent changes\nexport default function(attr, parentAttr, owner) {\n  if (this.$events.has(attr))\n    return this.$logWarn(\n      `cannot connect ${attr} attribute, it is already reactive`\n    );\n\n  parentAttr = parentAttr || attr;\n  owner = (owner || this).$owner(parentAttr);\n  if (!owner)\n    return this.$logWarn(`cannot find model with attribute ${parentAttr}`);\n  //\n  const dd = ddispatch();\n  this.$events.set(attr, dd);\n  Object.defineProperty(this, attr, {\n    get() {\n      return owner[parentAttr];\n    },\n    set() {\n      this.$logWarn(\n        `Cannot set \"${attr}\" value because it is owned by a parent model`\n      );\n    }\n  });\n  owner.$events.get(parentAttr).on(`change.${this.uid}`, () => {\n    dd.change.apply(this, arguments);\n    if (owner != this) this.$events.get(\"\").change.apply(this);\n  });\n}\n","const serialTypes = new Set([Boolean, String, Number]);\n\nexport default function() {\n  var model = this,\n    data = {},\n    keys = Array.from(this.$events.keys()).concat(Object.keys(this)),\n    value;\n\n  keys.forEach(key => {\n    if (key && key.substring(0, 1) !== \"$\") {\n      value = getValue(model[key]);\n      if (value !== undefined) data[key] = value;\n    }\n  });\n  return data;\n}\n\nfunction getValue(value) {\n  if (!value) return value;\n  else if (value.constructor === Array) return value.map(getValue);\n  else if (typeof value.$data === \"function\") return value.$data();\n  else if (serialTypes.has(value.constructor)) return value;\n}\n","import { isFunction } from \"d3-let\";\n\n//\n//  Emit a custom event Name up the chain of parent models\nexport default function(eventName, data) {\n  var name = \"$\" + eventName;\n  propagate(this, name, data, this);\n  return this;\n}\n\nfunction propagate(model, name, data, originModel) {\n  if (!model) return;\n  if (model.hasOwnProperty(name) && isFunction(model[name])) {\n    if (model[name](data, originModel) === false) return;\n  }\n  propagate(model.parent, name, data, originModel);\n}\n","//\n//check if an attribute is a reactive attribute for the model (or its prototypical parent)\nexport default function(attr) {\n  if (!this.$events.has(attr)) {\n    if (!this.parent || this.isolated) return false;\n    return this.parent.$isReactive(attr);\n  }\n  return true;\n}\n","// remove event handlers\nexport default function(attr) {\n  if (attr === undefined) this.$events.forEach(event => removeEvent(event));\n  else {\n    var bits = attr.split(\".\"),\n      type = bits.splice(0, 1)[0],\n      event = this.$events.get(type);\n    if (event) removeEvent(event, bits.join(\".\"));\n  }\n}\n\nfunction removeEvent(event, name) {\n  if (name) event.on(`change.${name}`, null);\n  else event.on(\"change\", null);\n}\n","import { isFunction } from \"d3-let\";\nimport warn from \"../utils/warn\";\n\n// Add change callback to a model reactive attribute\nexport default function(name, callback) {\n  // When no name is provided, wait for changes on this model - no its parents\n  if (arguments.length === 1 && isFunction(name)) {\n    callback = name;\n    name = \"\";\n  }\n\n  var bits = name.split(\".\"),\n    key = bits[0],\n    event = getEvent(this, key);\n\n  if (!event)\n    return warn(`Cannot bind to \"${key}\" - no such reactive property`);\n\n  // event from a parent model, add model uid to distinguish it from other child callbacks\n  if (!this.$events.get(key)) bits.push(this.uid);\n\n  bits[0] = \"change\";\n  return event.on(bits.join(\".\"), callback);\n}\n\nfunction getEvent(model, name) {\n  var event = model.$events.get(name);\n  if (!event && model.parent) return getEvent(model.parent, name);\n  return event;\n}\n","//\n//  Return the model owning the reactive attribute attr\nexport default function(attr) {\n  if (!this.$events.has(attr))\n    return this.parent ? this.parent.$owner(attr) : undefined;\n  return this;\n}\n","// Check if a value is a vanilla javascript object\nexport default value => value && value.constructor === Object;\n","import { isArray, isFunction, isObject } from \"d3-let\";\nimport isVanillaObject from \"../utils/object\";\nimport providers from \"../utils/providers\";\nimport ddispatch from \"./dispatch\";\n\n//  $set a reactive attribute for a Model\n//\n//  Set the value of an attribute in the model\n//  If the attribute is not already reactive make it as such.\n//\nexport default function(key, value) {\n  // property not reactive - make it as such\n  if (key.substring(0, 1) === \"$\") {\n    if (this.constructor.prototype[key])\n      this.$logWarn(`Cannot set attribute method ${key}, it is protected`);\n    else this[key] = value;\n  } else if (!this.$events.get(key)) reactive(this, key, value);\n  else this[key] = value;\n}\n\nconst isModel = value =>\n  isObject(value) && value.toString() === \"[object d3Model]\";\n\nconst reactive = (model, key, value) => {\n  var lazy;\n\n  model.$events.set(key, ddispatch());\n\n  Object.defineProperty(model, key, property());\n\n  // Create a new model if value is an object\n  value = typeValue(value);\n  // Trigger the callback once for initialization\n  model.$change(key);\n\n  function update(newValue) {\n    if (lazy) newValue = lazy.get.call(model);\n    if (newValue === value) return;\n    // trigger lazy callbacks\n    //\n    // Fire model events\n    if (providers.logger.debug) {\n      var modelName = model.$$name || \"model\";\n      providers.logger.debug(`[d3-model] updating ${modelName}.${key}`);\n    }\n    model.$change(key, value).$change();\n    value = typeValue(newValue, value);\n  }\n\n  function property() {\n    var prop = {\n      get: function() {\n        return value;\n      }\n    };\n\n    if (isFunction(value)) value = { get: value };\n\n    // calculated attribute\n    if (isVanillaObject(value) && isFunction(value.get)) {\n      lazy = value;\n      value = lazy.get.call(model);\n\n      if (lazy.reactOn)\n        lazy.reactOn.forEach(name => {\n          model.$on(`${name}.${key}`, update);\n        });\n      else\n        model.$logWarn(\n          `reactive lazy property ${key} does not specify 'reactOn' list or properties`\n        );\n\n      if (isFunction(lazy.set)) prop.set = lazy.set;\n    } else prop.set = update;\n\n    return prop;\n  }\n\n  function typeValue(newValue, oldValue) {\n    if (newValue === oldValue) return oldValue;\n    else if (isArray(newValue)) return arrayValue(newValue, oldValue);\n    else if (isModel(oldValue)) return modelValue(newValue, oldValue);\n    else return isVanillaObject(newValue) ? model.$new(newValue) : newValue;\n  }\n\n  function arrayValue(newValue, oldValue) {\n    if (isModel(oldValue)) oldValue.$off();\n    if (!isArray(oldValue)) oldValue = [];\n    for (let i = 0; i < newValue.length; ++i)\n      newValue[i] = typeValue(newValue[i], oldValue[i]);\n    return newValue;\n  }\n\n  function modelValue(newValue, oldValue) {\n    if (isVanillaObject(newValue)) {\n      oldValue.$update(newValue);\n      return oldValue;\n    } else {\n      oldValue.$off();\n      return typeValue(newValue);\n    }\n  }\n};\n","const modelStr = \"[object d3Model]\";\n\nexport default function() {\n  return modelStr;\n}\n","// Update a model with reactive model data\nexport default function(data, replace) {\n  if (data) {\n    replace = arguments.length === 2 ? replace : true;\n    for (var key in data) {\n      if (replace || this[key] === undefined) this.$set(key, data[key]);\n    }\n  }\n  return this;\n}\n","import warn from \"../utils/warn\";\nimport { $push, $splice } from \"./array\";\nimport asModel from \"./as\";\nimport $change from \"./change\";\nimport $connect from \"./connect\";\nimport $data from \"./data\";\nimport $emit from \"./emit\";\nimport $isReactive from \"./isreactive\";\nimport $off from \"./off\";\nimport $on from \"./on\";\nimport $owner from \"./owner\";\nimport $set from \"./set\";\nimport toString from \"./string\";\nimport $update from \"./update\";\n\n//\n//  Model class\n//\n//  The model is at the core of d3-view reactive data component\nfunction Model(initials, parent) {\n  asModel(this, initials, parent, true);\n}\n\nexport default function model(initials) {\n  return new Model(initials);\n}\n\nmodel.prototype = Model.prototype = {\n  constructor: Model,\n  // Public API methods\n  toString,\n  $on,\n  $change,\n  $connect,\n  $emit,\n  $update,\n  $set,\n  $new,\n  $off,\n  $isReactive,\n  $owner,\n  $data,\n  $push,\n  $splice,\n  $logWarn(msg) {\n    if (this.$$view) this.$$view.logWarn(msg);\n    else warn(msg);\n  }\n};\n\nObject.defineProperties(Model.prototype, {\n  root: {\n    get() {\n      return this.parent ? this.parent.root : this;\n    }\n  },\n  isolatedRoot: {\n    get() {\n      return !this.isolated && this.parent ? this.parent.isolatedRoot : this;\n    }\n  }\n});\n\nfunction $new(initials) {\n  return new Model(initials, this);\n}\n","export default (str, options) => {\n  if (typeof str !== \"string\") {\n    throw new TypeError(\"expected a string\");\n  }\n\n  return str\n    .trim()\n    .replace(/([a-z])([A-Z])/g, \"$1-$2\")\n    .replace(/\\W/g, m => (/[À-ž]/.test(m) ? m : \"-\"))\n    .replace(/^-+|-+$/g, \"\")\n    .replace(/-{2,}/g, m => (options && options.condense ? \"-\" : m))\n    .toLowerCase();\n};\n","const DATAPREFIX = \"data\";\n\nexport default attrs => {\n  let p, bits;\n  return Object.keys(attrs).reduce((o, key) => {\n    bits = key.split(\"-\");\n    if (bits.length > 1 && bits[0] === DATAPREFIX) bits = bits.splice(1);\n    p = bits.reduce((s, key, idx) => {\n      s += idx ? key.substring(0, 1).toUpperCase() + key.substring(1) : key;\n      return s;\n    }, \"\");\n    o[p] = attrs[key];\n    return o;\n  }, {});\n};\n","import { isString } from \"d3-let\";\n\nexport default value => {\n  if (isString(value)) {\n    try {\n      return JSON.parse(value);\n    } catch (msg) {\n      return value;\n    }\n  }\n  return value;\n};\n","import { select } from \"d3-selection\";\nimport \"d3-transition\";\n\nexport default function(o) {\n  Object.defineProperty(o, \"sel\", {\n    get() {\n      return select(this.el);\n    }\n  });\n\n  return o;\n}\n","export default function Cache() {\n  this.active = true;\n  this.data = new Map();\n}\n\nCache.prototype = {\n  constructor: Cache,\n  set(key, value) {\n    if (this.active) this.data.set(key, value);\n  },\n  get(key) {\n    if (this.active) return this.data.get(key);\n  },\n  has(key) {\n    if (this.active) return this.data.has(key);\n    return false;\n  },\n  clear() {\n    return this.data.clear();\n  },\n  delete(key) {\n    return this.data.delete(key);\n  }\n};\n","// Code originally from https://github.com/soney/jsep\n// Copyright (c) 2013 Stephen Oney, http://jsep.from.so/\n// Code modified and adapted to work with d3-view\n\n// This is the full set of types that any JSEP node can be.\n// Store them here to save space when minified\nexport const code = {\n  COMPOUND: \"Compound\",\n  IDENTIFIER: \"Identifier\",\n  MEMBER_EXP: \"MemberExpression\",\n  LITERAL: \"Literal\",\n  THIS_EXP: \"ThisExpression\",\n  CALL_EXP: \"CallExpression\",\n  UNARY_EXP: \"UnaryExpression\",\n  BINARY_EXP: \"BinaryExpression\",\n  LOGICAL_EXP: \"LogicalExpression\",\n  CONDITIONAL_EXP: \"ConditionalExpression\",\n  ARRAY_EXP: \"ArrayExpression\"\n};\n\nvar PERIOD_CODE = 46, // '.'\n  COMMA_CODE = 44, // ','\n  SQUOTE_CODE = 39, // single quote\n  DQUOTE_CODE = 34, // double quotes\n  OPAREN_CODE = 40, // (\n  CPAREN_CODE = 41, // )\n  OBRACK_CODE = 91, // [\n  CBRACK_CODE = 93, // ]\n  QUMARK_CODE = 63, // ?\n  SEMCOL_CODE = 59, // ;\n  COLON_CODE = 58, // :\n  throwError = function(message, index) {\n    var error = new Error(message + \" at character \" + index);\n    error.index = index;\n    error.description = message;\n    throw error;\n  },\n  // Operations\n  // ----------\n\n  // Set `t` to `true` to save space (when minified, not gzipped)\n  t = true,\n  // Use a quickly-accessible map to store all of the unary operators\n  // Values are set to `true` (it really doesn't matter)\n  unary_ops = { \"-\": t, \"!\": t, \"~\": t, \"+\": t },\n  // Also use a map for the binary operations but set their values to their\n  // binary precedence for quick reference:\n  // see [Order of operations](http://en.wikipedia.org/wiki/Order_of_operations#Programming_language)\n  binary_ops = {\n    \"||\": 1,\n    \"&&\": 2,\n    \"|\": 3,\n    \"^\": 4,\n    \"&\": 5,\n    \"==\": 6,\n    \"!=\": 6,\n    \"===\": 6,\n    \"!==\": 6,\n    \"<\": 7,\n    \">\": 7,\n    \"<=\": 7,\n    \">=\": 7,\n    \"<<\": 8,\n    \">>\": 8,\n    \">>>\": 8,\n    \"+\": 9,\n    \"-\": 9,\n    \"*\": 10,\n    \"/\": 10,\n    \"%\": 10\n  },\n  // Get return the longest key length of any object\n  getMaxKeyLen = function(obj) {\n    var max_len = 0,\n      len;\n    for (var key in obj) {\n      if ((len = key.length) > max_len && obj.hasOwnProperty(key)) {\n        max_len = len;\n      }\n    }\n    return max_len;\n  },\n  max_unop_len = getMaxKeyLen(unary_ops),\n  max_binop_len = getMaxKeyLen(binary_ops),\n  // Literals\n  // ----------\n  // Store the values to return for the various literals we may encounter\n  literals = {\n    true: true,\n    false: false,\n    null: null\n  },\n  // Except for `this`, which is special. This could be changed to something like `'self'` as well\n  this_str = \"this\",\n  // Returns the precedence of a binary operator or `0` if it isn't a binary operator\n  binaryPrecedence = function(op_val) {\n    return binary_ops[op_val] || 0;\n  },\n  // Utility function (gets called from multiple places)\n  // Also note that `a && b` and `a || b` are *logical* expressions, not binary expressions\n  createBinaryExpression = function(operator, left, right) {\n    var type =\n      operator === \"||\" || operator === \"&&\"\n        ? code.LOGICAL_EXP\n        : code.BINARY_EXP;\n    return {\n      type: type,\n      operator: operator,\n      left: left,\n      right: right\n    };\n  },\n  // `ch` is a character code in the next three functions\n  isDecimalDigit = function(ch) {\n    return ch >= 48 && ch <= 57; // 0...9\n  },\n  isIdentifierStart = function(ch) {\n    return (\n      ch === 36 ||\n      ch === 95 || // `$` and `_`\n      (ch >= 65 && ch <= 90) || // A...Z\n      (ch >= 97 && ch <= 122) || // a...z\n      (ch >= 128 && !binary_ops[String.fromCharCode(ch)])\n    ); // any non-ASCII that is not an operator\n  },\n  isIdentifierPart = function(ch) {\n    return (\n      ch === 36 ||\n      ch === 95 || // `$` and `_`\n      (ch >= 65 && ch <= 90) || // A...Z\n      (ch >= 97 && ch <= 122) || // a...z\n      (ch >= 48 && ch <= 57) || // 0...9\n      (ch >= 128 && !binary_ops[String.fromCharCode(ch)])\n    ); // any non-ASCII that is not an operator\n  },\n  // Parsing\n  // -------\n  // `expr` is a string with the passed in expression\n  jsep = function(expr) {\n    // `index` stores the character number we are currently at while `length` is a constant\n    // All of the gobbles below will modify `index` as we move along\n    var index = 0,\n      charAtFunc = expr.charAt,\n      charCodeAtFunc = expr.charCodeAt,\n      exprI = function(i) {\n        return charAtFunc.call(expr, i);\n      },\n      exprICode = function(i) {\n        return charCodeAtFunc.call(expr, i);\n      },\n      length = expr.length,\n      // Push `index` up to the next non-space character\n      gobbleSpaces = function() {\n        var ch = exprICode(index);\n        // space or tab\n        while (ch === 32 || ch === 9) {\n          ch = exprICode(++index);\n        }\n      },\n      // The main parsing function. Much of this code is dedicated to ternary expressions\n      gobbleExpression = function() {\n        var test = gobbleBinaryExpression(),\n          consequent,\n          alternate;\n        gobbleSpaces();\n        if (exprICode(index) === QUMARK_CODE) {\n          // Ternary expression: test ? consequent : alternate\n          index++;\n          consequent = gobbleExpression();\n          if (!consequent) {\n            throwError(\"Expected expression\", index);\n          }\n          gobbleSpaces();\n          if (exprICode(index) === COLON_CODE) {\n            index++;\n            alternate = gobbleExpression();\n            if (!alternate) {\n              throwError(\"Expected expression\", index);\n            }\n            return {\n              type: code.CONDITIONAL_EXP,\n              test: test,\n              consequent: consequent,\n              alternate: alternate\n            };\n          } else {\n            throwError(\"Expected :\", index);\n          }\n        } else {\n          return test;\n        }\n      },\n      // Search for the operation portion of the string (e.g. `+`, `===`)\n      // Start by taking the longest possible binary operations (3 characters: `===`, `!==`, `>>>`)\n      // and move down from 3 to 2 to 1 character until a matching binary operation is found\n      // then, return that binary operation\n      gobbleBinaryOp = function() {\n        gobbleSpaces();\n        var to_check = expr.substr(index, max_binop_len),\n          tc_len = to_check.length;\n        while (tc_len > 0) {\n          if (binary_ops.hasOwnProperty(to_check)) {\n            index += tc_len;\n            return to_check;\n          }\n          to_check = to_check.substr(0, --tc_len);\n        }\n        return false;\n      },\n      // This function is responsible for gobbling an individual expression,\n      // e.g. `1`, `1+2`, `a+(b*2)-Math.sqrt(2)`\n      gobbleBinaryExpression = function() {\n        var node, biop, prec, stack, biop_info, left, right, i;\n\n        // First, try to get the leftmost thing\n        // Then, check to see if there's a binary operator operating on that leftmost thing\n        left = gobbleToken();\n        biop = gobbleBinaryOp();\n\n        // If there wasn't a binary operator, just return the leftmost node\n        if (!biop) {\n          return left;\n        }\n\n        // Otherwise, we need to start a stack to properly place the binary operations in their\n        // precedence structure\n        biop_info = { value: biop, prec: binaryPrecedence(biop) };\n\n        right = gobbleToken();\n        if (!right) {\n          throwError(\"Expected expression after \" + biop, index);\n        }\n        stack = [left, biop_info, right];\n\n        // Properly deal with precedence using [recursive descent](http://www.engr.mun.ca/~theo/Misc/exp_parsing.htm)\n        while ((biop = gobbleBinaryOp())) {\n          prec = binaryPrecedence(biop);\n\n          if (prec === 0) {\n            break;\n          }\n          biop_info = { value: biop, prec: prec };\n\n          // Reduce: make a binary expression from the three topmost entries.\n          while (stack.length > 2 && prec <= stack[stack.length - 2].prec) {\n            right = stack.pop();\n            biop = stack.pop().value;\n            left = stack.pop();\n            node = createBinaryExpression(biop, left, right);\n            stack.push(node);\n          }\n\n          node = gobbleToken();\n          if (!node) {\n            throwError(\"Expected expression after \" + biop, index);\n          }\n          stack.push(biop_info, node);\n        }\n\n        i = stack.length - 1;\n        node = stack[i];\n        while (i > 1) {\n          node = createBinaryExpression(stack[i - 1].value, stack[i - 2], node);\n          i -= 2;\n        }\n        return node;\n      },\n      // An individual part of a binary expression:\n      // e.g. `foo.bar(baz)`, `1`, `\"abc\"`, `(a % 2)` (because it's in parenthesis)\n      gobbleToken = function() {\n        var ch, to_check, tc_len;\n\n        gobbleSpaces();\n        ch = exprICode(index);\n\n        if (isDecimalDigit(ch) || ch === PERIOD_CODE) {\n          // Char code 46 is a dot `.` which can start off a numeric literal\n          return gobbleNumericLiteral();\n        } else if (ch === SQUOTE_CODE || ch === DQUOTE_CODE) {\n          // Single or double quotes\n          return gobbleStringLiteral();\n        } else if (isIdentifierStart(ch) || ch === OPAREN_CODE) {\n          // open parenthesis\n          // `foo`, `bar.baz`\n          return gobbleVariable();\n        } else if (ch === OBRACK_CODE) {\n          return gobbleArray();\n        } else {\n          to_check = expr.substr(index, max_unop_len);\n          tc_len = to_check.length;\n          while (tc_len > 0) {\n            if (unary_ops.hasOwnProperty(to_check)) {\n              index += tc_len;\n              return {\n                type: code.UNARY_EXP,\n                operator: to_check,\n                argument: gobbleToken(),\n                prefix: true\n              };\n            }\n            to_check = to_check.substr(0, --tc_len);\n          }\n\n          return false;\n        }\n      },\n      // Parse simple numeric literals: `12`, `3.4`, `.5`. Do this by using a string to\n      // keep track of everything in the numeric literal and then calling `parseFloat` on that string\n      gobbleNumericLiteral = function() {\n        var number = \"\",\n          ch,\n          chCode;\n        while (isDecimalDigit(exprICode(index))) {\n          number += exprI(index++);\n        }\n\n        if (exprICode(index) === PERIOD_CODE) {\n          // can start with a decimal marker\n          number += exprI(index++);\n\n          while (isDecimalDigit(exprICode(index))) {\n            number += exprI(index++);\n          }\n        }\n\n        ch = exprI(index);\n        if (ch === \"e\" || ch === \"E\") {\n          // exponent marker\n          number += exprI(index++);\n          ch = exprI(index);\n          if (ch === \"+\" || ch === \"-\") {\n            // exponent sign\n            number += exprI(index++);\n          }\n          while (isDecimalDigit(exprICode(index))) {\n            //exponent itself\n            number += exprI(index++);\n          }\n          if (!isDecimalDigit(exprICode(index - 1))) {\n            throwError(\n              \"Expected exponent (\" + number + exprI(index) + \")\",\n              index\n            );\n          }\n        }\n\n        chCode = exprICode(index);\n        // Check to make sure this isn't a variable name that start with a number (123abc)\n        if (isIdentifierStart(chCode)) {\n          throwError(\n            \"Variable names cannot start with a number (\" +\n              number +\n              exprI(index) +\n              \")\",\n            index\n          );\n        } else if (chCode === PERIOD_CODE) {\n          throwError(\"Unexpected period\", index);\n        }\n\n        return {\n          type: code.LITERAL,\n          value: parseFloat(number),\n          raw: number\n        };\n      },\n      // Parses a string literal, staring with single or double quotes with basic support for escape codes\n      // e.g. `\"hello world\"`, `'this is\\nJSEP'`\n      gobbleStringLiteral = function() {\n        var str = \"\",\n          quote = exprI(index++),\n          closed = false,\n          ch;\n\n        while (index < length) {\n          ch = exprI(index++);\n          if (ch === quote) {\n            closed = true;\n            break;\n          } else if (ch === \"\\\\\") {\n            // Check for all of the common escape codes\n            ch = exprI(index++);\n            switch (ch) {\n              case \"n\":\n                str += \"\\n\";\n                break;\n              case \"r\":\n                str += \"\\r\";\n                break;\n              case \"t\":\n                str += \"\\t\";\n                break;\n              case \"b\":\n                str += \"\\b\";\n                break;\n              case \"f\":\n                str += \"\\f\";\n                break;\n              case \"v\":\n                str += \"\\x0B\";\n                break;\n              default:\n                str += \"\\\\\" + ch;\n            }\n          } else {\n            str += ch;\n          }\n        }\n\n        if (!closed) {\n          throwError('Unclosed quote after \"' + str + '\"', index);\n        }\n\n        return {\n          type: code.LITERAL,\n          value: str,\n          raw: quote + str + quote\n        };\n      },\n      // Gobbles only identifiers\n      // e.g.: `foo`, `_value`, `$x1`\n      // Also, this function checks if that identifier is a literal:\n      // (e.g. `true`, `false`, `null`) or `this`\n      gobbleIdentifier = function() {\n        var ch = exprICode(index),\n          start = index,\n          identifier;\n\n        if (isIdentifierStart(ch)) {\n          index++;\n        } else {\n          throwError(\"Unexpected \" + exprI(index), index);\n        }\n\n        while (index < length) {\n          ch = exprICode(index);\n          if (isIdentifierPart(ch)) {\n            index++;\n          } else {\n            break;\n          }\n        }\n        identifier = expr.slice(start, index);\n\n        if (literals.hasOwnProperty(identifier)) {\n          return {\n            type: code.LITERAL,\n            value: literals[identifier],\n            raw: identifier\n          };\n        } else if (identifier === this_str) {\n          return { type: code.THIS_EXP };\n        } else {\n          return {\n            type: code.IDENTIFIER,\n            name: identifier\n          };\n        }\n      },\n      // Gobbles a list of arguments within the context of a function call\n      // or array literal. This function also assumes that the opening character\n      // `(` or `[` has already been gobbled, and gobbles expressions and commas\n      // until the terminator character `)` or `]` is encountered.\n      // e.g. `foo(bar, baz)`, `my_func()`, or `[bar, baz]`\n      gobbleArguments = function(termination) {\n        var ch_i,\n          args = [],\n          node,\n          closed = false;\n        while (index < length) {\n          gobbleSpaces();\n          ch_i = exprICode(index);\n          if (ch_i === termination) {\n            // done parsing\n            closed = true;\n            index++;\n            break;\n          } else if (ch_i === COMMA_CODE) {\n            // between expressions\n            index++;\n          } else {\n            node = gobbleExpression();\n            if (!node || node.type === code.COMPOUND) {\n              throwError(\"Expected comma\", index);\n            }\n            args.push(node);\n          }\n        }\n        if (!closed) {\n          throwError(\"Expected \" + String.fromCharCode(termination), index);\n        }\n        return args;\n      },\n      // Gobble a non-literal variable name. This variable name may include properties\n      // e.g. `foo`, `bar.baz`, `foo['bar'].baz`\n      // It also gobbles function calls:\n      // e.g. `Math.acos(obj.angle)`\n      gobbleVariable = function() {\n        var ch_i, node;\n        ch_i = exprICode(index);\n\n        if (ch_i === OPAREN_CODE) {\n          node = gobbleGroup();\n        } else {\n          node = gobbleIdentifier();\n        }\n        gobbleSpaces();\n        ch_i = exprICode(index);\n        while (\n          ch_i === PERIOD_CODE ||\n          ch_i === OBRACK_CODE ||\n          ch_i === OPAREN_CODE\n        ) {\n          index++;\n          if (ch_i === PERIOD_CODE) {\n            gobbleSpaces();\n            node = {\n              type: code.MEMBER_EXP,\n              computed: false,\n              object: node,\n              property: gobbleIdentifier()\n            };\n          } else if (ch_i === OBRACK_CODE) {\n            node = {\n              type: code.MEMBER_EXP,\n              computed: true,\n              object: node,\n              property: gobbleExpression()\n            };\n            gobbleSpaces();\n            ch_i = exprICode(index);\n            if (ch_i !== CBRACK_CODE) {\n              throwError(\"Unclosed [\", index);\n            }\n            index++;\n          } else if (ch_i === OPAREN_CODE) {\n            // A function call is being made; gobble all the arguments\n            node = {\n              type: code.CALL_EXP,\n              arguments: gobbleArguments(CPAREN_CODE),\n              callee: node\n            };\n          }\n          gobbleSpaces();\n          ch_i = exprICode(index);\n        }\n        return node;\n      },\n      // Responsible for parsing a group of things within parentheses `()`\n      // This function assumes that it needs to gobble the opening parenthesis\n      // and then tries to gobble everything within that parenthesis, assuming\n      // that the next thing it should see is the close parenthesis. If not,\n      // then the expression probably doesn't have a `)`\n      gobbleGroup = function() {\n        index++;\n        var node = gobbleExpression();\n        gobbleSpaces();\n        if (exprICode(index) === CPAREN_CODE) {\n          index++;\n          return node;\n        } else {\n          throwError(\"Unclosed (\", index);\n        }\n      },\n      // Responsible for parsing Array literals `[1, 2, 3]`\n      // This function assumes that it needs to gobble the opening bracket\n      // and then tries to gobble the expressions as arguments.\n      gobbleArray = function() {\n        index++;\n        return {\n          type: code.ARRAY_EXP,\n          elements: gobbleArguments(CBRACK_CODE)\n        };\n      },\n      nodes = [],\n      ch_i,\n      node;\n\n    while (index < length) {\n      ch_i = exprICode(index);\n\n      // Expressions can be separated by semicolons, commas, or just inferred without any\n      // separators\n      if (ch_i === SEMCOL_CODE || ch_i === COMMA_CODE) {\n        index++; // ignore separators\n      } else {\n        // Try to gobble each expression individually\n        if ((node = gobbleExpression())) {\n          nodes.push(node);\n          // If we weren't able to find a binary expression and are out of room, then\n          // the expression passed in probably has too much\n        } else if (index < length) {\n          throwError('Unexpected \"' + exprI(index) + '\"', index);\n        }\n      }\n    }\n\n    // If there's only one expression just try returning the expression\n    if (nodes.length === 1) {\n      return nodes[0];\n    } else {\n      return {\n        type: code.COMPOUND,\n        body: nodes\n      };\n    }\n  };\n\n/**\n * @method jsep.addUnaryOp\n * @param {string} op_name The name of the unary op to add\n * @return jsep\n */\njsep.addUnaryOp = function(op_name) {\n  max_unop_len = Math.max(op_name.length, max_unop_len);\n  unary_ops[op_name] = t;\n  return this;\n};\n\n/**\n * @method jsep.addBinaryOp\n * @param {string} op_name The name of the binary op to add\n * @param {number} precedence The precedence of the binary op (can be a float)\n * @return jsep\n */\njsep.addBinaryOp = function(op_name, precedence) {\n  max_binop_len = Math.max(op_name.length, max_binop_len);\n  binary_ops[op_name] = precedence;\n  return this;\n};\n\n/**\n * @method jsep.addLiteral\n * @param {string} literal_name The name of the literal to add\n * @param {*} literal_value The value of the literal\n * @return jsep\n */\njsep.addLiteral = function(literal_name, literal_value) {\n  literals[literal_name] = literal_value;\n  return this;\n};\n\n/**\n * @method jsep.removeUnaryOp\n * @param {string} op_name The name of the unary op to remove\n * @return jsep\n */\njsep.removeUnaryOp = function(op_name) {\n  delete unary_ops[op_name];\n  if (op_name.length === max_unop_len) {\n    max_unop_len = getMaxKeyLen(unary_ops);\n  }\n  return this;\n};\n\n/**\n * @method jsep.removeBinaryOp\n * @param {string} op_name The name of the binary op to remove\n * @return jsep\n */\njsep.removeBinaryOp = function(op_name) {\n  delete binary_ops[op_name];\n  if (op_name.length === max_binop_len) {\n    max_binop_len = getMaxKeyLen(binary_ops);\n  }\n  return this;\n};\n\n/**\n * @method jsep.removeLiteral\n * @param {string} literal_name The name of the literal to remove\n * @return jsep\n */\njsep.removeLiteral = function(literal_name) {\n  delete literals[literal_name];\n  return this;\n};\n\nexport default jsep;\n","import { code } from \"./jsep\";\n\nexport function evaluate(self, expr, nested) {\n  switch (expr.type) {\n    case code.IDENTIFIER:\n      return self[expr.name];\n    case code.LITERAL:\n      return nested ? self[expr.value] : expr.value;\n    case code.ARRAY_EXP:\n      return expr.elements.map(elem => {\n        return evaluate(self, elem);\n      });\n    case code.LOGICAL_EXP:\n    case code.BINARY_EXP:\n      return binaryExp(\n        expr.operator,\n        evaluate(self, expr.left),\n        evaluate(self, expr.right)\n      );\n    case code.CALL_EXP:\n      return callExpression(self, expr.callee, expr.arguments);\n    case code.MEMBER_EXP:\n      return evaluate(evaluate(self, expr.object), expr.property, true);\n    case code.CONDITIONAL_EXP:\n      return evaluate(self, expr.test)\n        ? evaluate(self, expr.consequent)\n        : evaluate(self, expr.alternate);\n    case code.UNARY_EXP:\n      return unaryExp(expr.operator, evaluate(self, expr.argument));\n  }\n}\n\n// extract identifiers\nexport function identifiers(expr, all) {\n  if (arguments.length === 1) all = new Set();\n  switch (expr.type) {\n    case code.IDENTIFIER:\n      all.add(expr.name);\n      break;\n    case code.ARRAY_EXP:\n      expr.elements.forEach(elem => identifiers(elem, all));\n      break;\n    case code.LOGICAL_EXP:\n    case code.BINARY_EXP:\n      identifiers(expr.left, all);\n      identifiers(expr.right, all);\n      break;\n    case code.CALL_EXP:\n      identifiers(expr.callee, all);\n      expr.arguments.forEach(elem => identifiers(elem, all));\n      break;\n    case code.MEMBER_EXP:\n      all.add(fullName(expr));\n      break;\n    case code.CONDITIONAL_EXP:\n      identifiers(expr.test, all);\n      identifiers(expr.consequent, all);\n      evaluate(expr.alternate, all);\n      break;\n    case code.UNARY_EXP:\n      identifiers(expr.argument, all);\n      break;\n  }\n  return all;\n}\n\nfunction callExpression(self, callee, args) {\n  var func;\n\n  args = args.map(arg => {\n    return evaluate(self, arg);\n  });\n\n  if (callee.type !== code.IDENTIFIER) {\n    self = evaluate(self, callee.object);\n    callee = callee.property;\n  }\n\n  func = self[callee.name];\n  if (!func)\n    throw new EvalError(`callable \"${callee.name}\" not found in context`);\n  return func.apply(self, args);\n}\n\nfunction unaryExp(op, arg) {\n  if (!unaryFunctions[op])\n    unaryFunctions[op] = new Function(\"arg\", `return ${op} arg`);\n  return unaryFunctions[op](arg);\n}\n\nfunction binaryExp(op, a, b) {\n  if (!binaryFunctions[op])\n    binaryFunctions[op] = new Function(\"a\", \"b\", `return a ${op} b`);\n  return binaryFunctions[op](a, b);\n}\n\nfunction fullName(expr) {\n  if (expr.type === code.IDENTIFIER) return expr.name;\n  else return `${fullName(expr.object)}.${expr.property.name}`;\n}\n\nconst unaryFunctions = {};\nconst binaryFunctions = {};\n","// tiny javascript expression parser\nimport warn from \"../utils/warn\";\nimport { evaluate, identifiers } from \"./eval\";\nimport jsep, { code } from \"./jsep\";\n\nconst proto = {\n  eval(model) {\n    return evaluate(model, this.parsed);\n  },\n\n  safeEval(model) {\n    try {\n      return evaluate(model, this.parsed);\n    } catch (msg) {\n      warn(`Could not evaluate <<${this.expr}>> expression: ${msg}`);\n    }\n  },\n\n  // evaluate identifiers from a model\n  identifiers() {\n    return identifiers(this.parsed);\n  }\n};\n\nfunction Expression(expr) {\n  this.codes = code;\n  this.expr = expr;\n  this.parsed = jsep(expr);\n}\n\nExpression.prototype = proto;\n\nexport default function(expr) {\n  return new Expression(expr);\n}\n","import { isFunction, isObject } from \"d3-let\";\nimport viewModel from \"../model/main\";\nimport viewExpression from \"../parser/expression\";\nimport sel from \"../utils/sel\";\nimport uid from \"../utils/uid\";\nimport base from \"./transition\";\n\n//\n// Directive Prototype\n//\n// Directives are special attributes with the d3- prefix.\n// Directive attribute values are expected to be binding expressions.\n// A directive’s job is to reactively apply special behavior to the DOM\n// when the value of its expression changes.\n//\n// A directive can implement one or more of the directive methods:\n//\n//  * create\n//  * mount\n//  * refresh\n//  * destroy\n//\nconst prototype = {\n  // hooks\n  create(expression) {\n    return expression;\n  },\n\n  // pre mount\n  preMount() {},\n\n  mount(model) {\n    return model;\n  },\n\n  refresh() {},\n\n  destroy() {},\n\n  removeAttribute() {\n    this.el.removeAttribute(this.name);\n  },\n\n  // Execute directive\n  execute(model) {\n    if (!this.active) return;\n    this.removeAttribute();\n    this.identifiers = [];\n    model = this.mount(model);\n    // If model returned, bind the element to its properties\n    if (model) this.bindModel(model);\n  },\n\n  bindModel(model) {\n    var dir = this,\n      error = false,\n      events = model.$$view.events,\n      refresh = function() {\n        let value = dir.expression ? dir.expression.eval(model) : dir.data;\n        dir.refresh(model, value);\n        dir.passes++;\n        events.call(\"directive-refresh\", undefined, dir, model, value);\n      };\n    //\n    // get the cache instance\n    dir.cache = model.$$view.cache;\n\n    // Bind expression identifiers with model\n    let bits, target, attr, i;\n    if (dir.data) {\n      dir.data = model.$new(dir.data);\n      dir.identifiers.push({\n        model: dir.data,\n        attr: \"\"\n      });\n    } else if (!this.expression) {\n      dir.identifiers.push({\n        model: model,\n        attr: \"\"\n      });\n    } else {\n      var modelEvents = new Map();\n      this.expression.identifiers().forEach(identifier => {\n        bits = identifier.split(\".\");\n        target = model;\n        attr = null;\n\n        for (i = 0; i < bits.length - 1; ++i) {\n          target = target[bits[i]];\n          if (!isObject(target)) {\n            attr = bits.slice(0, i + 1).join(\".\");\n            dir.logError(\n              `\"${attr}\" is not an object, cannot bind to \"${identifier}\" identifier`\n            );\n            error = true;\n            break;\n          }\n        }\n\n        // process attribute\n        if (attr === null) {\n          if (!(target instanceof viewModel)) {\n            dir.logError(\n              `${identifier} is not a reactive model. Cannot bind to it`\n            );\n            error = true;\n          } else addTarget(modelEvents, target, bits[bits.length - 1]);\n        }\n      });\n\n      // register with model reactive properties\n      modelEvents.forEach(target => {\n        // if we are listening to all event simply bind to the model changes\n        if (target.events.has(\"\"))\n          dir.identifiers.push({\n            model: target.model,\n            attr: \"\"\n          });\n        else\n          target.events.forEach(attr => {\n            dir.identifiers.push({\n              model: target.model,\n              attr: attr\n            });\n          });\n      });\n    }\n\n    if (error) return;\n\n    this.identifiers.forEach(identifier => {\n      var event = `${identifier.attr}.${dir.uid}`;\n      identifier.model.$on(event, refresh);\n    });\n\n    this.bindDestroy(model);\n\n    refresh();\n  },\n\n  bindDestroy(model) {\n    var dir = this,\n      destroy = this.destroy;\n    // bind destroy to the model\n    dir.destroy = function() {\n      dir.identifiers.forEach(identifier => {\n        identifier.model.$off(`${identifier.attr}.${dir.uid}`);\n      });\n      if (dir.data) dir.data.$off();\n      try {\n        destroy.call(dir, model);\n      } finally {\n        model.$emit(\"destroyDirective\", dir);\n      }\n    };\n  }\n};\n\n// Directive constructor\nexport default function(obj) {\n  function Directive(el, attr, arg) {\n    this.el = el;\n    this.ownerDocument = el.ownerDocument;\n    this.name = attr.name;\n    this.arg = arg;\n    this.passes = 0;\n    var expr = sel(uid(this)).create(attr.value);\n    if (expr) {\n      try {\n        this.expression = viewExpression(expr);\n      } catch (e) {\n        try {\n          this.data = JSON.parse(expr);\n        } catch (m) {\n          this.logError(e);\n        }\n      }\n    }\n    if (!this.active)\n      this.active = Boolean(!attr.value || this.expression || this.data);\n  }\n\n  Directive.prototype = { ...base, ...prototype, ...obj };\n\n  function directive(el, attr, arg) {\n    return new Directive(el, attr, arg);\n  }\n\n  directive.prototype = Directive.prototype;\n  return directive;\n}\n\nfunction addTarget(modelEvents, model, attr) {\n  var value = arguments.length === 3 ? model[attr] : undefined;\n  //\n  // a method of the model, event is at model level\n  if (isFunction(value) || arguments.length === 2)\n    getTarget(modelEvents, model).events.add(\"\");\n  // value is another model, events at both target model level and value model level\n  else if (value instanceof viewModel) {\n    addTarget(modelEvents, value);\n    model = model.$owner(attr);\n    if (model) getTarget(modelEvents, model).events.add(\"\");\n  } else {\n    // make sure attr is a reactive property of model\n    model = model.$owner(attr) || model;\n    if (!model.$isReactive(attr)) model.$set(attr, value);\n    getTarget(modelEvents, model).events.add(attr);\n  }\n}\n\nfunction getTarget(modelEvents, model) {\n  var target = modelEvents.get(model.uid);\n  if (!target) {\n    target = {\n      model: model,\n      events: new Set()\n    };\n    modelEvents.set(model.uid, target);\n  }\n  return target;\n}\n","// No value, it has its own directive\nconst attributes = [\n  \"name\",\n  \"class\",\n  \"disabled\",\n  \"readonly\",\n  \"required\",\n  \"href\"\n];\n\nexport default (element, vm) => {\n  const dirs = new Directives();\n\n  for (let i = 0; i < element.attributes.length; ++i) {\n    let attr = element.attributes[i],\n      bits = attr.name.split(\"-\"),\n      dirName = bits[0] === \"d3\" ? bits[1] : null,\n      arg;\n\n    if (dirName) {\n      if (vm) {\n        arg = bits.slice(2).join(\"-\");\n        if (!arg && attributes.indexOf(dirName) > -1) {\n          arg = dirName;\n          dirName = \"attr\";\n        }\n        var directive = vm.directives.get(dirName);\n        if (directive) dirs.add(directive(element, attr, arg));\n        else\n          vm.logWarn(\n            `${\n              element.tagName\n            } cannot find directive \"${dirName}\". Did you forget to register it?`\n          );\n      }\n    } else dirs.attrs[attr.name] = attr.value;\n  }\n\n  return dirs;\n};\n\n// Directives container\nfunction Directives() {\n  this.attrs = {};\n  this.all = [];\n}\n\nDirectives.prototype = {\n  size() {\n    return this.all.length;\n  },\n\n  pop: function(dir) {\n    var index = this.all.indexOf(dir);\n    if (index > -1) {\n      dir.removeAttribute();\n      this.all.splice(index, 1);\n    }\n    return dir;\n  },\n\n  add(dir) {\n    this.all.push(dir);\n  },\n\n  forEach(callback) {\n    this.all.forEach(callback);\n  },\n\n  preMount() {\n    let dir;\n    for (let i = 0; i < this.all.length; ++i) {\n      dir = this.all[i];\n      if (dir.preMount()) return this.pop(dir);\n    }\n  },\n\n  execute(model) {\n    if (!this.size()) return;\n    return Promise.all(this.all.map(d => d.execute(model)));\n  }\n};\n","import { select, selection } from \"d3-selection\";\nimport slice from \"../utils/slice\";\nimport warn from \"../utils/warn\";\nimport getdirs from \"./getdirs\";\n\n// Extend selection prototype with new methods\nselection.prototype.mount = mount;\nselection.prototype.view = view;\nselection.prototype.model = model;\nselection.prototype.directives = directives;\n\nfunction directives(vm) {\n  const node = this.node();\n  let dirs = node.__d3_directives__;\n  if (dirs === undefined) {\n    dirs = getdirs(node, vm);\n    // no point in storing the directive object if there are no directives or the node is not a component\n    node.__d3_directives__ =\n      dirs.size() || getComponent(node, vm) ? dirs : null;\n  }\n  return dirs ? dirs : getdirs(node);\n}\n\nfunction model() {\n  var vm = this.view();\n  return vm ? vm.model : null;\n}\n\nfunction view(value) {\n  if (arguments.length) {\n    return this.property(\"__d3_view__\", value);\n  } else {\n    var element = this.node(),\n      view = element ? element.__d3_view__ : null,\n      parent = element ? element.parentNode : null;\n\n    while (parent && !view) {\n      view = parent.__d3_view__;\n      parent = parent.parentNode;\n    }\n    return view;\n  }\n}\n\n//\n// mount function on a d3 selection\n// Use this function to mount the selection\n// This method returns nothing or a promise\nfunction mount(data) {\n  var promises = [];\n  this.each(function() {\n    var view = select(this).view();\n    if (view) promises.push(mountElement(this, view, data));\n    else warn(\"Cannot mount, no view object available to mount to\");\n  });\n  return Promise.all(promises);\n}\n\n// INTERNALS\n\n// mount an element into a given model\nconst mountElement = (element, vm, data) => {\n  if (!element || !element.tagName) return;\n\n  var component = getComponent(element, vm),\n    directives = select(element).directives(vm),\n    preMount = directives.preMount();\n\n  if (preMount) return preMount.execute(vm.model);\n  else {\n    if (component) {\n      return component({ parent: vm })\n        .mount(element, data)\n        .then(cm => {\n          directives.execute(cm.model);\n          return cm;\n        });\n    } else {\n      directives.execute(vm.model);\n      return Promise.all(\n        slice(element.children).map(c => mountElement(c, vm, data))\n      );\n    }\n  }\n};\n\nconst getComponent = (element, vm) => {\n  return vm.components.get(element.tagName.toLowerCase());\n};\n","import { dispatch } from \"d3-dispatch\";\nimport { assign, isArray, isFunction, isObject, isString, pop } from \"d3-let\";\nimport viewModel from \"../model/main\";\nimport dashify from \"../utils/dashify\";\nimport dataAttributes from \"../utils/data\";\nimport map from \"../utils/map\";\nimport maybeJson from \"../utils/maybeJson\";\nimport sel from \"../utils/sel\";\nimport asSelect from \"../utils/select\";\nimport Cache from \"./cache\";\nimport createDirective from \"./directive\";\nimport \"./selection\";\nimport base from \"./transition\";\n\nexport const protoView = {\n  doMount(el) {\n    return asView(this, el);\n  }\n};\n\n// prototype for both views and components\nconst protoComponent = {\n  //\n  // hooks\n  render() {},\n  childrenMounted() {},\n  mounted() {},\n  destroy() {},\n  //\n  // Mount the component into an element\n  // If this component is already mounted, or it is mounting, it does nothing\n  mount(el, data) {\n    if (mounted(this)) return;\n    const sel = asSelect(el);\n    el = sel.node();\n    if (!el) {\n      this.logWarn(\n        `element not defined, pass an identifier or an HTMLElement object`\n      );\n      return Promise.resolve(this);\n    }\n    // set the owner document\n    this.ownerDocument = el.ownerDocument;\n    //\n    const directives = sel.directives(this);\n\n    let props = assign(dataAttributes(directives.attrs), sel.datum(), data),\n      extra = maybeJson(pop(props, \"props\")),\n      value,\n      model,\n      parentModel;\n\n    if (isObject(extra)) props = assign(extra, props);\n    else if (this.parent && this.parent.props[extra])\n      props = assign({}, this.parent.props[extra], props);\n\n    // fire mount event\n    this.events.call(\"mount\", undefined, this, el, props);\n\n    // pick parent model & props\n    if (this.parent) {\n      //\n      parentModel = this.parent.model;\n      model = pop(props, \"model\");\n      if (model && !model.$child) model = parentModel[model];\n      if (!model) model = parentModel.$new();\n      else model = model.$child();\n      //\n      // Get props from parent view\n      Object.keys(this.props).forEach(key => {\n        value = this.parent.props[props[key]];\n        if (value === undefined) {\n          value = maybeJson(props[key]);\n          if (value !== undefined) props[key] = value;\n          // default value if available\n          else if (this.props[key] !== undefined) props[key] = this.props[key];\n        } else props[key] = value;\n      });\n      //\n      // get props object from parent if props is defined\n      if (isString(extra)) props = assign({}, this.parent.props[extra], props);\n    } else {\n      props = assign(this.props, props);\n      model = viewModel();\n    }\n\n    // add reactive model properties\n    Object.keys(this.model).forEach(key => {\n      value = pop(props, key);\n      if (value !== undefined) {\n        if (isString(value) && parentModel && parentModel.$isReactive(value))\n          model.$connect(key, value, parentModel);\n        else model.$set(key, maybeJson(value));\n      } else if (model[key] === undefined) model.$set(key, this.model[key]);\n    });\n    this.model = bindView(this, model);\n    //\n    // create the new element from the render function\n    if (!props.id) props.id = model.uid;\n    this.props = props;\n    //\n    return this.doMount(el);\n  },\n\n  createElement(tag, props) {\n    const doc = this.ownerDocument || document;\n    const sel = this.select(doc.createElement(tag));\n    if (props) {\n      sel.attr(\"id\", this.props.id);\n      if (this.props.class) sel.classed(this.props.class, true);\n    }\n    return sel;\n  },\n\n  doMount(el) {\n    let newEl;\n    try {\n      newEl = this.render(el);\n    } catch (error) {\n      newEl = Promise.reject(error);\n    }\n    if (!newEl || !newEl.then) newEl = Promise.resolve(newEl);\n    return newEl\n      .then(element => compile(this, el, element))\n      .catch(exc => error(this, el, exc));\n  },\n\n  use(plugin) {\n    if (isObject(plugin)) plugin.install(this);\n    else plugin(this);\n    return this;\n  },\n\n  addComponent(name, obj) {\n    name = dashify(name);\n    var component = createComponent(name, obj);\n    this.components.set(name, component);\n    return component;\n  },\n\n  addDirective(name, obj) {\n    name = dashify(name);\n    var directive = createDirective(obj);\n    this.directives.set(name, directive);\n    return directive;\n  }\n};\n\n// factory of View and Component constructors\nexport const createComponent = (name, o, coreDirectives, coreComponents) => {\n  if (isFunction(o)) o = { render: o };\n\n  var obj = assign({}, o),\n    classComponents = extendComponents(new Map(), pop(obj, \"components\")),\n    classDirectives = extendDirectives(new Map(), pop(obj, \"directives\")),\n    model = pop(obj, \"model\"),\n    props = pop(obj, \"props\");\n\n  function Component(options) {\n    var parent = pop(options, \"parent\"),\n      components = map(parent ? parent.components : coreComponents),\n      directives = map(parent ? parent.directives : coreDirectives),\n      events = parent\n        ? parent.events\n        : dispatch(\n            \"message\",\n            \"created\",\n            \"mount\",\n            \"mounted\",\n            \"error\",\n            \"directive-refresh\"\n          ),\n      cache = parent ? parent.cache : new Cache();\n\n    classComponents.forEach((comp, key) => {\n      components.set(key, comp);\n    });\n    classDirectives.forEach((comp, key) => {\n      directives.set(key, comp);\n    });\n    extendComponents(components, pop(options, \"components\"));\n    extendDirectives(directives, pop(options, \"directives\"));\n\n    Object.defineProperties(this, {\n      name: {\n        get() {\n          return name;\n        }\n      },\n      components: {\n        get() {\n          return components;\n        }\n      },\n      directives: {\n        get() {\n          return directives;\n        }\n      },\n      parent: {\n        get() {\n          return parent;\n        }\n      },\n      root: {\n        get() {\n          return parent ? parent.root : this;\n        }\n      },\n      cache: {\n        get() {\n          return cache;\n        }\n      },\n      uid: {\n        get() {\n          return this.model.uid;\n        }\n      },\n      events: {\n        get() {\n          return events;\n        }\n      }\n    });\n    this.props = asObject(props, pop(options, \"props\"));\n    this.model = asObject(model, pop(options, \"model\"));\n    this.events.call(\"created\", undefined, this);\n  }\n\n  Component.prototype = assign({}, base, protoComponent, obj);\n\n  function component(options) {\n    return new Component(options);\n  }\n\n  component.prototype = Component.prototype;\n\n  return component;\n};\n\n// Used by both Component and view\n\nexport const extendComponents = (container, components) => {\n  map(components).forEach((obj, key) => {\n    key = dashify(key);\n    container.set(key, createComponent(key, obj, protoComponent));\n  });\n  return container;\n};\n\nexport const extendDirectives = (container, directives) => {\n  map(directives).forEach((obj, key) => {\n    key = dashify(key);\n    container.set(key, createDirective(obj));\n  });\n  return container;\n};\n\n//\n//  Finalise the binding between the view and the model\n//  inject the model into the view element\n//  call the mounted hook and can return a Promise\nexport const asView = (vm, element) => {\n  Object.defineProperty(sel(vm), \"el\", {\n    get: function() {\n      return element;\n    }\n  });\n  // Apply model to element and mount\n  return vm\n    .select(element)\n    .view(vm)\n    .mount()\n    .then(() => vmMounted(vm));\n};\n\nexport const mounted = vm => {\n  if (vm.isMounted === undefined) {\n    vm.isMounted = false;\n    return false;\n  } else if (vm.isMounted) {\n    vm.logWarn(`component already mounted`);\n  } else {\n    vm.isMounted = true;\n    // invoke mounted component hook\n    vm.mounted();\n    // invoke the view mounted events\n    vm.events.call(\"mounted\", undefined, vm);\n  }\n  return true;\n};\n\n// Internals\n\n//\n//  Component/View mounted\n//  =========================\n//\n//  This function is called when a component/view has all its children added\nconst vmMounted = vm => {\n  var parent = vm.parent;\n  vm.childrenMounted();\n  if (parent && !parent.isMounted) {\n    const event = `mounted.${vm.uid}`;\n    vm.events.on(event, cm => {\n      if (cm === parent) {\n        vm.events.on(event, null);\n        mounted(vm);\n      }\n    });\n  } else mounted(vm);\n  return vm;\n};\n\n// Compile a component model\n// This function is called once a component has rendered the component element\nconst compile = (cm, origEl, element) => {\n  if (isString(element)) {\n    const props = Object.keys(cm.props).length ? cm.props : null;\n    element = cm.viewElement(element, props, origEl.ownerDocument);\n  }\n  element = asSelect(element);\n  const size = element.size();\n  if (!size)\n    throw new Error(\n      \"render() must return a single HTML node. It returned nothing!\"\n    );\n  else if (size !== 1) cm.logWarn(\"render() must return a single HTML node\");\n  element = element.node();\n  //\n  // mark the original element as component\n  origEl.__d3_component__ = true;\n  // Insert before the component element\n  if (origEl.parentNode) origEl.parentNode.insertBefore(element, origEl);\n  // remove the component element\n  cm.select(origEl).remove();\n  //\n  return asView(cm, element);\n};\n\n// Invoked when a component cm has failed to render\nconst error = (cm, origEl, exc) => {\n  cm.logWarn(`failed to render due to the unhandled exception reported below`);\n  cm.logError(exc);\n  cm.events.call(\"error\", undefined, cm, origEl, exc);\n  return cm;\n};\n\nconst asObject = (value, opts) => {\n  if (isFunction(value)) value = value();\n  if (isArray(value))\n    value = value.reduce((o, key) => {\n      o[key] = undefined;\n      return o;\n    }, {});\n  return assign({}, value, opts);\n};\n\nconst bindView = (view, model) => {\n  Object.defineProperties(model, {\n    $$view: {\n      get() {\n        return view;\n      }\n    },\n    $$name: {\n      get() {\n        return view.name;\n      }\n    },\n    props: {\n      get() {\n        return view.props;\n      }\n    }\n  });\n  return model;\n};\n","import { isArray } from \"d3-let\";\nimport properties from \"../utils/htmlprops\";\n\n//\n//  d3-attr-<attr> directive\n//  ==============================\n//\n//  Create a one-way binding between a model and a HTML element attribute\n//\nexport default {\n  create(expression) {\n    if (!this.arg)\n      return this.logWarn(\n        \"Cannot bind to empty attribute. Specify :<attr-name>\"\n      );\n    return expression;\n  },\n\n  refresh(model, value) {\n    if (this.arg === \"class\") return this.refreshClass(value);\n    if (isArray(value))\n      return this.logWarn(`Cannot apply array to attribute ${this.arg}`);\n    var prop = properties.get(this.arg);\n    if (prop) this.sel.property(prop, value || false);\n    else this.sel.attr(this.arg, value || null);\n  },\n\n  refreshClass(value) {\n    var sel = this.sel;\n\n    if (!isArray(value)) value = [value];\n\n    if (this.oldValue)\n      this.oldValue.forEach(entry => {\n        if (entry) sel.classed(entry, false);\n      });\n\n    this.oldValue = value.map(entry => {\n      var exist = true;\n      if (isArray(entry)) {\n        exist = entry[1];\n        entry = entry[0];\n      }\n      if (entry) sel.classed(entry, exist);\n      return entry;\n    });\n  }\n};\n","import { isArray } from \"d3-let\";\nimport { select } from \"d3-selection\";\nimport { createComponent, protoView } from \"../core/component\";\n\n//\n//  d3-for directive\n//  ======================\n//\n//  Repeat a element over an array of items and establish\n//  a one way binding between the array and the Dom\nexport default {\n  create(expression) {\n    var bits = [];\n    expression\n      .trim()\n      .split(\" \")\n      .forEach(v => {\n        v ? bits.push(v) : null;\n      });\n    if (bits.length !== 3 || bits[1] != \"in\")\n      return this.logWarn(\n        `directive requires \"item in expression\" template, got \"${expression}\"`\n      );\n    this.itemName = bits[0];\n    this.itemClass = `for${this.uid}`;\n    return bits[2];\n  },\n\n  preMount() {\n    return true;\n  },\n\n  mount(model) {\n    this.creator = this.el;\n    this.el = this.creator.parentNode;\n    // remove the creator from the DOM\n    select(this.creator).remove();\n    if (this.el) return model;\n  },\n\n  refresh(model, items) {\n    if (!isArray(items)) return;\n    let d;\n\n    var creator = this.creator,\n      itemClass = this.itemClass,\n      selector = `.${itemClass}`,\n      itemName = this.itemName,\n      sel = this.sel,\n      allItems = sel.selectAll(selector),\n      entries = allItems\n        .filter(function() {\n          d = this.__d3_view__.model[itemName];\n          return items.indexOf(d) > -1;\n        })\n        .data(items),\n      exits = allItems\n        .filter(function() {\n          d = this.__d3_view__.model[itemName];\n          return items.indexOf(d) === -1;\n        })\n        .classed(itemClass, false),\n      vm = sel.view();\n\n    let forComponent = vm.components.get(creator.tagName.toLowerCase());\n    if (!forComponent) forComponent = createComponent(\"forView\", protoView);\n\n    let x, el, fel, tr;\n\n    (this.transition(exits) || exits).style(\"opacity\", 0).remove();\n\n    // Add all missing entries\n    entries\n      .enter()\n      .append(() => {\n        el = creator.cloneNode(true);\n        fel = vm.select(el);\n        if (vm.transitionDuration(fel) > 0) fel.style(\"opacity\", 0);\n        return el;\n      })\n      .each(function(d, index) {\n        x = { index: index };\n        x[itemName] = d;\n        forComponent({\n          model: x,\n          parent: vm\n        })\n          .mount(this, { model: vm.model })\n          .then(fv => {\n            fv.sel.classed(itemClass, true);\n            // replace the item with a property from the model\n            // This allow for reactivity when d is an object\n            items[index] = fv.model[itemName];\n            tr = fv.transition();\n            if (tr) tr.style(\"opacity\", 1);\n          });\n      });\n\n    sel.selectAll(selector).each(function(d) {\n      // update model itemName property\n      this.__d3_view__.model[itemName] = d;\n    });\n  }\n};\n","import { isNumber, isString } from \"d3-let\";\n//\n//  d3-html\n//  =============\n//  attach html or text to the innerHtml property and mount components if required\n//\n//  Usage:\n//      <div id=\"foo\" d3-html=\"output\"></div>\nexport default {\n  refresh(model, html) {\n    if (isNumber(html)) html = \"\" + html;\n    if (isString(html)) {\n      var dir = this,\n        sel = this.sel,\n        transition = this.passes ? this.transition(sel) : null;\n      if (transition) {\n        transition.style(\"opacity\", 0).on(\"end\", () => {\n          sel.html(html);\n          dir.selectChildren().mount();\n          dir.transition(sel).style(\"opacity\", 1);\n        });\n      } else {\n        sel.html(html);\n        this.selectChildren().mount();\n      }\n    }\n  }\n};\n","//\n//  d3-if\n//  =============\n//\n//  Show or hide an element\n//\nexport default {\n  mount(model) {\n    var sel = this.sel;\n    this.display = sel.style(\"display\");\n    this.opacity = +sel.style(\"opacity\") || 1;\n    if (!this.display || this.display === \"none\") this.display = \"block\";\n    return model;\n  },\n\n  refresh(model, value) {\n    var sel = this.sel,\n      transition = this.passes ? this.transition(sel) : null;\n\n    if (value) sel.style(\"display\", this.display);\n    else if (!transition) sel.style(\"display\", \"none\");\n\n    if (transition) {\n      if (value) transition.style(\"opacity\", 1);\n      else\n        transition\n          .style(\"opacity\", 0)\n          .on(\"end\", () => sel.style(\"display\", \"none\"));\n    } else sel.style(\"opacity\", value ? this.opacity : 0);\n  }\n};\n","//\n//  d3-on directive\n//\n//  A one-way data binding from dom events to model properties/methods\n//  Event listeners are on the DOM, not on the model\nexport default {\n  mount(model) {\n    var eventName = this.arg || \"click\",\n      expr = this.expression;\n\n    // DOM event => model binding\n    this.on(this.sel, `${eventName}.${this.uid}`, event => {\n      var md = model.$child();\n      md.$event = event;\n      expr.eval(md);\n    });\n\n    this.bindDestroy(model);\n    // Does not return the model so that model data binding is not performed\n  },\n\n  destroy() {\n    var eventName = this.arg || \"click\";\n    this.on(this.sel, `${eventName}.${this.uid}`, null);\n  }\n};\n","import { assign } from \"d3-let\";\nimport debounce from \"../../utils/debounce\";\nimport sel from \"../../utils/sel\";\n\nconst base = {\n  on(model, attrName) {\n    var refresh = refreshFunction(this, model, attrName),\n      uid = model.uid;\n\n    // DOM => model binding\n    this.sel.on(`input.${uid}`, refresh).on(`change.${uid}`, refresh);\n  },\n\n  off(model) {\n    var uid = model.uid;\n    this.sel.on(`input.${uid}`, null).on(`change.${uid}`, null);\n  },\n\n  value(value) {\n    if (arguments.length) this.sel.property(\"value\", value);\n    else return this.sel.property(\"value\");\n  }\n};\n\nexport function createValueType(proto) {\n  function ValueType(el) {\n    sel(this).el = el;\n  }\n\n  ValueType.prototype = assign({}, base, proto);\n\n  return ValueType;\n}\n\nexport function refreshFunction(vType, model, attrName) {\n  return debounce(() => {\n    model.$set(attrName, vType.value());\n  });\n}\n","import { createValueType } from \"./type\";\n\nexport default createValueType({\n  value(value) {\n    if (arguments.length) this.sel.property(\"checked\", value);\n    else return this.sel.property(\"checked\");\n  }\n});\n","import { createValueType } from \"./type\";\n\nexport default createValueType();\n","import { isArray } from \"d3-let\";\nimport { select } from \"d3-selection\";\nimport { createValueType } from \"./type\";\n\nexport default createValueType({\n  value(value) {\n    var sel = this.sel,\n      options = sel.selectAll(\"option\"),\n      values = value,\n      opt;\n\n    if (arguments.length) {\n      if (!isArray(values)) values = [value || \"\"];\n      options.each(function() {\n        opt = select(this);\n        value = opt.attr(\"value\") || \"\";\n        opt.property(\"selected\", values.indexOf(value) > -1);\n      });\n    } else {\n      values = [];\n      options.each(function() {\n        opt = select(this);\n        if (opt.property(\"selected\")) values.push(opt.attr(\"value\") || \"\");\n      });\n      if (sel.property(\"multiple\")) return values;\n      else return values[0] || \"\";\n    }\n  }\n});\n","import checkbox from \"./checkbox\";\nimport input from \"./input\";\nimport select from \"./select\";\n\nexport default {\n  input,\n  textarea: input,\n  select,\n  checkbox\n};\n","import types from \"./types/index\";\n\n//\n//  d3-value directive\n//  ===================\n//\n//  Two-way data binding for HTML elements supporting the value property\nexport default {\n  create(expression) {\n    var type = this.sel.attr(\"type\"),\n      tag = this.el.tagName.toLowerCase(),\n      ValueType = types[type] || types[tag];\n\n    if (!ValueType) {\n      this.logWarn(`Cannot apply d3-value directive to ${tag}`);\n      return;\n    }\n    this.tag = new ValueType(this.el);\n    return expression;\n  },\n\n  mount(model) {\n    var expr = this.expression;\n    // TODO: relax this constraint\n    if (expr.parsed.type !== expr.codes.IDENTIFIER) {\n      this.logWarn(\n        `support identifiers only, got \"${expr.parsed.type}\": ${\n          this.expression\n        }`\n      );\n      return;\n    }\n    var attrName = this.expression.expr;\n    //\n    // Create the model reactive attribute\n    model.$set(attrName, this.tag.value());\n    // register dom event\n    this.tag.on(model, attrName);\n    return model;\n  },\n\n  refresh(model, value) {\n    this.tag.value(value);\n  },\n\n  destroy(model) {\n    this.tag.off(model);\n  }\n};\n","import attr from \"./attr\";\nimport d3For from \"./for\";\nimport html from \"./html\";\nimport d3If from \"./if\";\nimport on from \"./on\";\nimport value from \"./value\";\n\nexport default {\n  attr,\n  html,\n  value,\n  on,\n  for: d3For,\n  if: d3If\n};\n","import \"./core/clean\";\nimport { createComponent, extendDirectives, protoView } from \"./core/component\";\nimport directives from \"./directives/index\";\n\n// Core Directives\nconst coreDirectives = extendDirectives(new Map(), directives);\n\n// the root view constructor\nexport default config =>\n  createComponent(\"view\", protoView, coreDirectives)(config);\n","import { timeout } from \"d3-timer\";\nimport providers from \"./providers\";\n\n// Add callback to execute when the DOM is ready\nexport default callback => {\n  providers.readyCallbacks.push(callback);\n  /* istanbul ignore next */\n  if (document.readyState !== \"complete\") {\n    document.addEventListener(\"DOMContentLoaded\", _completed);\n    // A fallback to window.onload, that will always work\n    window.addEventListener(\"load\", _completed);\n  } else domReady();\n};\n\n/* istanbul ignore next */\nconst _completed = () => {\n  document.removeEventListener(\"DOMContentLoaded\", _completed);\n  window.removeEventListener(\"load\", _completed);\n  domReady();\n};\n\nconst domReady = () => {\n  let callback;\n  while (providers.readyCallbacks.length) {\n    callback = providers.readyCallbacks.shift();\n    timeout(callback);\n  }\n};\n","export default str => {\n  str = str.replace(/^\\s+|\\s+$/g, \"\"); // trim\n  str = str.toLowerCase();\n\n  // remove accents, swap ñ for n, etc\n  var from = \"àáäâèéëêìíïîòóöôùúüûñç·/_,:;\";\n  var to = \"aaaaeeeeiiiioooouuuunc------\";\n  for (var i = 0, l = from.length; i < l; i++) {\n    str = str.replace(new RegExp(from.charAt(i), \"g\"), to.charAt(i));\n  }\n\n  str = str\n    .replace(/[^a-z0-9 -]/g, \"\") // remove invalid chars\n    .replace(/\\s+/g, \"-\") // collapse whitespace and replace by -\n    .replace(/-+/g, \"-\"); // collapse dashes\n\n  return str;\n};\n"],"names":["logger","isFunction","inBrowser","select","isString","selectAll","event","groupTpl","submit","assign","isObject","isArray","validators","prefix","timeout","dispatch","model","viewModel","base","selection","sel","pop","compile","error","isNumber","input","directives"],"mappings":"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"}
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(require("d3-view"),require("d3-transition"),require("d3-let")):"function"==typeof define&&define.amd?define(["d3-view","d3-transition","d3-let"],n):n(e.giotto,e.giotto,e.giotto)}(this,function(e,n,t){"use strict";function i(n){var t=n.level;return t||(n.error?t="error":n.success&&(t="success")),t=l[t]||t||"info",e.viewElement('<div class="alert alert-'+t+'" role="alert" style="opacity: 0">\n'+n.message+"\n</div>")}function r(e){return e.transition().duration(300).style("opacity",1)}function a(){var n=e.view({model:f()});n.use(v).mount("body")}var d='<nav class="navbar" d3-class="[theme, [\'navbar-fixed-top\', fixedTop]]">\n    <a class="navbar-brand" d3-if="brand.title || brand.image" d3-attr-href="brand.href || \'#\'" d3-html="brand.title">\n        <img d3-if="brand.image" d3-attr-src="brand.image" d3-attr-alt="brand.title">\n    </a>\n    <ul class="nav navbar-nav">\n        <li d3-for="item in items" class="nav-item" d3-active>\n            <a class="nav-link"\n                d3-attr-href="item.href || \'#\'"\n                d3-html="item.title"\n                d3-if="item.show ? item.show() : true"\n                d3-on-click="item.click ? item.click() : null"></a>\n        </li>\n    </ul>\n</nav>',s={model:{fixedTop:!0,theme:"navbar-light bg-faded",brand:{},items:[]},render:function(){return e.viewElement(d)}},o='<div class="messages"></div>',l={error:"danger"},c=function(){var n=this;return this.root.events.on("message",function(e){n.sel.append(function(){return i(e)}).call(r)}),e.viewElement(o)},u={render:function(){var e=(new Date).getFullYear();return this.viewElement("<span>"+e+"</span>")}},m={props:["json"],render:function(e){var n=e.json,i=this.createElement("div").classed("d3-grid",!0),r=this;return t.isString(n)&&this.fetch(n).then(r.build),i},build:function(e){e.target&&this.fetch(e.target)}},v={install:function(e){e.addComponent("navbar",s),e.addComponent("messages",c),e.addComponent("year",u),e.addComponent("d3grid",m)}},f=function(){var e={mainNavbar:{brand:{href:"/",image:"/giotto-banner.svg"},theme:"navbar-dark bg-inverse"}};return e};e.viewReady(a)});